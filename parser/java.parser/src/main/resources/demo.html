<!DOCTYPE html>


    <html itemscope itemtype="http://schema.org/QAPage" class="html__responsive">

    <head>

        <title>javascript - How do I return the response from an asynchronous call? - Stack Overflow</title>
        <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
        <link rel="apple-touch-icon image_src" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
        <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">


        <meta property="og:type" content= "website" />
        <meta property="og:url" content="https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call"/>
        <meta property="og:site_name" content="Stack Overflow" />
        <meta property="og:image" itemprop="image primaryImageOfPage" content="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded" />
        <meta name="twitter:card" content="summary"/>
        <meta name="twitter:domain" content="stackoverflow.com"/>
        <meta name="twitter:title" property="og:title" itemprop="title name" content="How do I return the response from an asynchronous call?" />
        <meta name="twitter:description" property="og:description" itemprop="description" content="I have a function foo which makes an Ajax request. How can I return the response from foo? 

I tried returning the value from the success callback as well as assigning the response to a local varia..." />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://cdn.sstatic.net/Js/stub.en.js?v=385addacc77a"></script>
    
    <link rel="stylesheet" type="text/css" href="https://cdn.sstatic.net/Shared/stacks.css?v=af6e039be4e4">
    <link rel="stylesheet" type="text/css" href="https://cdn.sstatic.net/Sites/stackoverflow/primary-unified.css?v=d98ad55bb7fc">

    
            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;How do I return the response from an asynchronous call?&#39;" href="/feeds/question/14220321">
            <meta name="twitter:app:country" content="US" />
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:iphone" content="871299723" />
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call" />
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:ipad" content="871299723" />
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call" />
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>

            StackExchange.ready(function () {
                                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({canOpenBounty:true,votesCast:[],autoShowCommentHelp:true,showAnswerHelp:true,totalCommentCount:11,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:14220321});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '14220321');
                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text'); });

            });
        </script>

        
        
        
        
        
        
                <script>
        StackExchange.ready(function () {
            StackExchange.realtime.init('wss://qa.sockets.stackexchange.com');
            StackExchange.realtime.subscribeToReputationNotifications('1');
                StackExchange.realtime.subscribeToTopBarNotifications('1');
        });
    </script>
    <script>
        StackExchange.init({"locale":"en","serverTime":1538718756,"routeName":"Questions/Show","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"childUrl":"https://meta.stackoverflow.com","enableSocialMediaInSharePopup":true,"protocol":"https"},"user":{"fkey":"5e5a746d88dc3f2aa1a8289e5b10ee862bb9725f050da05630494450b2ff8054","tid":"93311bf8-97ff-8afb-29d7-63ca8cfc4dc0","rep":81,"isRegistered":true,"userType":3,"userId":3093468,"accountId":3717694,"gravatar":"<div class=\"gravatar-wrapper-32\"><img src=\"https://i.stack.imgur.com/l1aGi.jpg?s=32&amp;g=1\" alt=\"\" width=\"32\" height=\"32\"></div>","profileUrl":"https://stackoverflow.com/users/3093468/alan","canSeeDeletedPosts":false},"realtime":{"newest":false,"active":false,"tagged":true,"staleDisconnectIntervalInHours":0,"workerIframeDomain":"https://cdn.sstatic.net"},"events":{"postType":{"question":1},"postEditionSection":{"title":1,"body":2,"tags":3}},"story":{"minCompleteBodyLength":75,"likedTagsMaxLength":300,"dislikedTagsMaxLength":300},"jobPreferences":{"maxNumDeveloperRoles":2,"maxNumIndustries":4},"svgIconPath":"https://cdn.sstatic.net/Img/svg-icons","svgIconHash":"0f0fc5e90a6d"}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableImgurHttps":true,"forceHttpsImages":true,"stacksValidation":true},"userMessaging":{"showNewFeatureNotice":true},"comments":{},"userProfile":{"openGraphAPIKey":"58740831ad23540e00c58987"},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"paths":{},"markdown":{"asteriskIntraWordEmphasis":true},"monitoring":{"clientTimingsAbsoluteTimeout":30000,"clientTimingsDebounceTimeout":1000},"mentions":{"maxNumUsersInDropdown":50},"slack":{"sidebarAdDismissCookie":"slack-sidebar-ad"}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"37444577339f","js/moderator.en.js":"c48addfbc3c8","js/full-anon.en.js":"be1433ae071b","js/full.en.js":"045f9a2a330d","js/wmd.en.js":"888ab79e9540","js/mobile.en.js":"f941cd34fe0a","js/help.en.js":"a1c2d4ed1321","js/tageditor.en.js":"2418012691f9","js/tageditornew.en.js":"be7e4fa7583b","js/inline-tag-editing.en.js":"97b4a0d9f86f","js/revisions.en.js":"8f22ba768cac","js/review.en.js":"a895ba3b9a19","js/tagsuggestions.en.js":"b278f9a0b23b","js/post-validation.en.js":"6e1d062d4361","js/explore-qlist.en.js":"222b04ca33bc","js/events.en.js":"b88342b2f0aa","js/keyboard-shortcuts.en.js":"ab903f3defd4","js/external-editor.en.js":"cca27370f403","js/adops.en.js":"22a9bd59b1e9","js/external-editor.en.js":"cca27370f403","js/snippet-javascript.en.js":"e39cbef57ced","js/snippet-javascript-codemirror.en.js":"3d62d31c42e6"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    <noscript id="noscript-css"><style>body,.top-bar{margin-top:1.9em}</style></noscript>
    </head>
        <body class="question-page unified-theme new-topbar">
    <div id="notify-container"></div>
    <div id="custom-header"></div>




<header class="top-bar js-top-bar _fixed top-bar__network">
    <div class="-container">
        <div class="-main">
                <a href="#" class="left-sidebar-toggle p0 ai-center jc-center js-left-sidebar-toggle"><span class="ps-relative"></span></a>
                                <a href="https://stackoverflow.com" class="-logo js-gps-track"
                        data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">
                        <span class="-img _glyph">Stack Overflow</span>
                    </a>



        </div>

            <form id="search" action=/search method="get" class="searchbar js-searchbar " autocomplete="off" role="search">
                    <div class="ps-relative">
                        <input name="q" type="text" placeholder="Searchâ€¦" value="" autocomplete="off" maxlength="240" class="f-input js-search-field " />
                        <button type="submit" aria-label="Search..." class="s-btn s-btn__primary btn-topbar-primary js-search-submit"><svg aria-hidden="true" class="svg-icon mx0 iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.86 11.32L18 16.5 16.5 18l-5.18-5.14v-.35a7 7 0 1 1 1.19-1.19h.35zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"/></svg></button>
                    </div>
            </form>

        





<ol class="-secondary js-secondary-topbar-links drop-icons-responsively">
        <li class="-item searchbar-trigger js-searchbar-trigger"><a href="#" class="-link"><svg aria-hidden="true" class="svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.86 11.32L18 16.5 16.5 18l-5.18-5.14v-.35a7 7 0 1 1 1.19-1.19h.35zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"/></svg></a></li>
                <li class="-item">
                <a href="/users/3093468/alan" class="my-profile js-gps-track" data-gps-track="profile_summary.click()">
                <div class="gravatar-wrapper-24" title="Alan"><img src="https://i.stack.imgur.com/l1aGi.jpg?s=48&amp;g=1" alt="" width="24" height="24" class="-avatar js-avatar-me"></div>
                    <div class="-rep js-header-rep" title="your reputation: 81">81</div>
                        <div class="-badges">
<span title="1 silver badge"><span class="badge2">&#9679;</span><span class="badgecount">1</span></span><span title="2 bronze badges"><span class="badge3">&#9679;</span><span class="badgecount">2</span></span>                        </div>
                </a>
            </li>
        <li class="-item">
        <a href="https://stackexchange.com/users/3717694?tab=inbox" class="-link js-inbox-button" title="Recent inbox messages">
            <svg aria-hidden="true" class="svg-icon iconInbox" width="20" height="18" viewBox="0 0 20 18"><path d="M15.19 1H4.63c-.85 0-1.6.54-1.85 1.35L0 10.79V15c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2v-4.21l-2.87-8.44A2 2 0 0 0 15.19 1zm-.28 10l-2 2h-6l-2-2H1.96L4.4 3.68A1 1 0 0 1 5.35 3h9.12a1 1 0 0 1 .95.68L17.86 11h-2.95z"/></svg>
            <span class="indicator-badge js-unread-count _important" style="display: none;"></span>
        </a>
    </li>
    <li class="-item">
        <a href="https://stackexchange.com/users/3717694?tab=reputation" class="-link js-achievements-button" title="Recent achievements: reputation, badges, and privileges earned" data-unread-class="_highlighted-positive">
            <svg aria-hidden="true" class="svg-icon iconAchievements" width="18" height="18" viewBox="0 0 18 18"><path d="M15 2V1H3v1H0v4c0 1.6 1.4 3 3 3v1c.4 1.5 3 2.6 5 3v2H5s-1 1.5-1 2h10c0-.4-1-2-1-2h-3v-2c2-.4 4.6-1.5 5-3V9c1.6-.2 3-1.4 3-3V2h-3zM3 7c-.5 0-1-.5-1-1V4h1v3zm8.4 2.5L9 8 6.6 9.4l1-2.7L5 5h3l1-2.7L10 5h2.8l-2.3 1.8 1 2.7h-.1zM16 6c0 .5-.5 1-1 1V4h1v2z"/></svg>
            <span class="indicator-badge js-unread-count _positive" style="display: none;"></span>
        </a>
    </li>

    <li class="-item help-button-item" data-remove-order="1"><a href="#" class="-link js-help-button" title="Help Center and other resources">
        <svg aria-hidden="true" class="svg-icon iconHelp" width="18" height="18" viewBox="0 0 18 18"><path d="M9 1a8 8 0 1 0 0 16A8 8 0 0 0 9 1zm.81 12.13c-.02.71-.55 1.15-1.24 1.13-.66-.02-1.17-.49-1.15-1.2.02-.72.56-1.18 1.22-1.16.7.03 1.2.51 1.17 1.23zM11.77 8a5.8 5.8 0 0 1-1.02.91l-.53.37c-.26.2-.42.43-.5.69a4 4 0 0 0-.09.75c0 .05-.03.16-.18.16H7.88c-.16 0-.18-.1-.18-.15.03-.66.12-1.21.4-1.66a5.29 5.29 0 0 1 1.43-1.22c.16-.12.28-.25.38-.39a1.34 1.34 0 0 0 .02-1.71c-.24-.31-.51-.46-1.03-.46-.51 0-.8.26-1.02.6-.21.33-.18.73-.18 1.1H5.75c0-1.38.35-2.25 1.1-2.76.52-.35 1.17-.5 1.93-.5 1 0 1.79.18 2.49.71.64.5.98 1.18.98 2.12 0 .57-.2 1.05-.48 1.44z"/></svg>
    </a></li>

    <li class="-item">
        <a href="https://stackexchange.com" class="-link js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 174 Stack Exchange sites">
            <svg aria-hidden="true" class="svg-icon iconStackExchange" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13c0 1.1.9 2 2 2h8v3l3-3h1a2 2 0 0 0 2-2v-2H1v2zM15 1H3a2 2 0 0 0-2 2v2h16V3a2 2 0 0 0-2-2zM1 6h16v4H1V6z"/></svg>
        </a>
    </li>


    <li class="-dialog-container js-topbar-dialog-corral">


    <div class="topbar-dialog siteSwitcher-dialog dno">
        <div class="header">
            <h3><a href="https://stackoverflow.com">current community</a>
            </h3>
        </div>
        <div class="modal-content current-site-container">
            <ul class="current-site">
                    <li class="grid">
                            <div class="fl1">
            <a href="https://stackoverflow.com"
       class="current-site-link site-link js-gps-track grid gs8 gsx"
       data-id="1"
       data-gps-track="site_switcher.click({ item_type:3 })">
        <div class="favicon favicon-stackoverflow site-icon grid--cell" title="Stack Overflow"></div>
        <span class="grid--cell fl1">
            Stack Overflow
        </span>
    </a>

    </div>
    <div class="related-links">
            <a href="https://stackoverflow.com/help" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:14 })"
>help</a>
                    <a href="https://chat.stackoverflow.com" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:6 })"
>chat</a>
                    <a href="https://stackoverflow.com/users/logout" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:8 })"
>log out</a>
    </div>

                    </li>
                    <li class="related-site grid">
                            <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                            <a href="https://meta.stackoverflow.com"
       class="site-link js-gps-track grid gs8 gsx"
       data-id="552"
       data-gps-track="site.switch({ target_site:552, item_type:3 }),site_switcher.click({ item_type:4 })">
        <div class="favicon favicon-stackoverflowmeta site-icon grid--cell" title="Meta Stack Overflow"></div>
        <span class="grid--cell fl1">
            Meta Stack Overflow
        </span>
    </a>

                    </li>
            </ul>
        </div>

        <div class="header" id="your-communities-header">
            <h3>
                    <a href="https://stackexchange.com/users/3717694/?tab=accounts">your communities</a>
            </h3>

                <a href="#" id="edit-pinned-sites">edit</a>
                <a href="#" id="cancel-pinned-sites" style="display: none;">cancel</a>
        </div>
        <div class="modal-content" id="your-communities-section">

                <ul class="my-sites">
                        <li>
                                <a href="https://stackoverflow.com"
       class="site-link js-gps-track grid gs8 gsx"
       data-id="1"
       data-gps-track="site.switch({ target_site:1, item_type:3 }),site_switcher.click({ item_type:1 })">
        <div class="favicon favicon-stackoverflow site-icon grid--cell" title="Stack Overflow"></div>
        <span class="grid--cell fl1">
            Stack Overflow
        </span>
            <span class="rep-score grid--cell">81</span>
    </a>

                        </li>
                        <li>
                                <a href="https://chinese.stackexchange.com"
       class="site-link js-gps-track grid gs8 gsx"
       data-id="371"
       data-gps-track="site.switch({ target_site:371, item_type:3 }),site_switcher.click({ item_type:1 })">
        <div class="favicon favicon-chinese site-icon grid--cell" title="Chinese Language"></div>
        <span class="grid--cell fl1">
            Chinese Language
        </span>
            <span class="rep-score grid--cell">1</span>
    </a>

                        </li>
                </ul>
                    <div class="pinned-site-editor-container" style="display: none;">
                        <input type="hidden" name="fkey" value="5e5a746d88dc3f2aa1a8289e5b10ee862bb9725f050da05630494450b2ff8054">
                        <input id="js-site-search-txt"
                                type="text"
                                class="site-filter-input"
                                value=""
                                placeholder="Add a Stack Exchange community"/>
                        <input type="submit" id="pin-site-btn" value="Add" disabled="disabled"/>
                        <ul class="js-found-sites found-sites"></ul>
                        <ul class="pinned-site-list sortable" data-custom-list="False">
                        </ul>
                        <input type="submit" value="Save" id="save-pinned-sites-btn" disabled="disabled"/>
                        <a href="#" id="reset-pinned-sites">reset to default list</a>
                    </div>
        </div>

        <div class="header">
            <h3><a href="https://stackexchange.com/sites">more stack exchange communities</a>
            </h3>
            <a href="https://stackoverflow.blog" class="fr">company blog</a>
        </div>
        <div class="modal-content">
                <div class="child-content"></div>
        </div>        
    </div>
            <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="https://meta.stackoverflow.com" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.stackoverflowbusiness.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
                    <div class="topbar-dialog leftnav-dialog js-leftnav-dialog dno">
                <div class="left-sidebar js-unpinned-left-sidebar" data-can-be="left-sidebar" data-is-here-when="sm"></div>
            </div>
    </li>
</ol>

    </div>
</header>

    <script>
        StackExchange.ready(function () { StackExchange.topbar.init({ observeSize: true }); });
        StackExchange.scrollPadding.setPaddingTop(50, 10);     </script>


    


    <div class="container  ">
                



<div id="left-sidebar" data-is-here-when="md lg" class="left-sidebar js-pinned-left-sidebar">
    <div class="left-sidebar--sticky-container js-sticky-leftnav">
        <nav role="navigation">
            <ol class="nav-links">
                <li>    <li>
        <a
            href="/"
            class="pl8 js-gps-track nav-links--link"
            
            data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">
Home        </a>
    </li>
</li>
                <li>
                    <ol class="nav-links">
                            <li class="fs-fine tt-uppercase ml8 mt16 mb4 fc-light">Public</li>
                            <li class=" youarehere">
        <a id="nav-questions"
            href="/questions"
            class="pl8 js-gps-track nav-links--link -link__with-icon"
            
            data-gps-track="top_nav.click({is_current:true, location:2, destination:1})">
<svg aria-hidden="true" class="svg-icon iconGlobe" width="18" height="18" viewBox="0 0 18 18"><path d="M9 1a8 8 0 1 0 0 16A8 8 0 0 0 9 1zM8 15.32a6.4 6.4 0 0 1-5.23-7.75L7 11.68v.8c0 .88.12 1.32 1 1.32v1.52zm5.72-2c-.2-.66-1-1.32-1.72-1.32h-1v-2c0-.44-.56-1-1-1H6V7h1c.44 0 1-.56 1-1V5h2c.88 0 1.4-.72 1.4-1.6v-.33a6.4 6.4 0 0 1 2.32 10.24z"/></svg>                <span class="-link--channel-name">Stack Overflow</span>
        </a>
    </li>

    <li>
        <a id="nav-tags"
            href="/tags"
            class=" js-gps-track nav-links--link"
            
            data-gps-track="top_nav.click({is_current:false, location:2, destination:2})">
Tags        </a>
    </li>
    <li>
        <a id="nav-users"
            href="/users"
            class=" js-gps-track nav-links--link"
            
            data-gps-track="top_nav.click({is_current:false, location:2, destination:3})">
Users        </a>
    </li>
    <li>
        <a id="nav-jobs"
            href="/jobs?med=site-ui&amp;ref=jobs-tab"
            class=" js-gps-track nav-links--link"
            
            data-gps-track="top_nav.click({is_current:false, location:2, destination:6})">
Jobs        </a>
    </li>
                                            </ol>
                </li>
                    <li>
                        <ol class="nav-links">
                                <li class="p6">
                                    <div class="ba bc-black-2 bar-sm p16 grid fd-column ps-relative overflow-hidden">
                                        <strong class="grid--cell">Teams</strong>
                                        <span class="grid--cell mt2 fs-caption fc-medium">Q&amp;A for work </span>
                                        <a href="https://stackoverflow.com/teams"
                                            class="js-gps-track s-btn s-btn__outlined ta-center grid--cell mt12"
                                            data-gps-track="teams.create.left-sidenav.click"
                                            data-ga="[&quot;teams traffic&quot;,&quot;left nav cta&quot;,&quot;stackoverflow.com/teams&quot;,null,{&quot;dimension4&quot;:&quot;teams&quot;}]">
                                            Learn More
                                        </a>

                                        <div class="ps-absolute t4 rn6">
                                            <svg width="53" height="49" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M49 11l.2 31H18.9L9 49v-7H4V8h31" fill="#CCEAFF" /><path d="M44.5 19v-.3l-.2-.1-18-13-.1-.1H.5v33h4V46l.8-.6 9.9-6.9h29.3V19z" stroke="#1060E1" stroke-miterlimit="10" /><path d="M31 2l6-1.5 7 2V38H14.9L5 45v-7H1V6h25l5-4z" fill="#fff" /><path d="M7 16.5h13m-13 6h14m-14 6h18" stroke="#1060E1" stroke-miterlimit="10" /><path d="M39 30a14 14 0 1 0 0-28 14 14 0 0 0 0 28z" fill="#FFB935" /><path d="M50.5 14a13.5 13.5 0 1 1-27 0 13.5 13.5 0 0 1 27 0z" stroke="#F48024" stroke-miterlimit="10" /><path d="M32.5 21.5v-8h9v8h-9zm2-9.5V9.3A2.5 2.5 0 0 1 37 6.8a2.5 2.5 0 0 1 2.5 2.5V12h-5zm2 3v2m1-2v2" stroke="#fff" stroke-miterlimit="10" /></svg>
                                        </div>
                                    </div>
                                </li>
                        </ol>
                    </li>
            </ol>
        </nav>
    </div>
</div>
        <div id="content" class="snippet-hidden">


            


<div itemscope itemtype="http://schema.org/Question">
    <link itemprop="image" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">

    <div class="inner-content clearfix">
    
    

<style>.everyoneloves__top-leaderboard:empty,.everyoneloves__mid-leaderboard:empty{                height:90px;width:728px;box-sizing:border-box;
}</style>
        <div id="dfp-tlb" class="everyonelovesstackoverflow everyoneloves__top-leaderboard"></div>            <div id="question-header" class="grid">
                    <h1 itemprop="name" class="grid--cell fs-headline1 fl1"><a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call" class="question-hyperlink">How do I return the response from an asynchronous call?</a></h1>

            



<div class="pl8 aside-cta grid--cell" role="navigation" aria-label="ask new question">
            <a href="/questions/ask" class="d-inline-flex ai-center ws-nowrap s-btn s-btn__primary" >Ask Question</a>
</div>

        </div>
            <div id="mainbar" role="main" aria-label="question and answers">

            

<div class="question" data-questionid="14220321"  id="question">

    
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="14220321">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post high-scored-post">4455</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful (click again to undo)">down vote</a>

        <a class="star-off" href="#">favorite</a>
        <div class="favoritecount"><b>2100</b></div>



</div>

            </div>

            
<div class="postcell post-layout--right">
    <div class="post-text" itemprop="text">

<p>I have a function <code>foo</code> which makes an Ajax request. How can I return the response from <code>foo</code>? </p>

<p>I tried returning the value from the <code>success</code> callback as well as assigning the response to a local variable inside the function and returning that one, but none of those ways actually return the response.</p>

<pre><code>function foo() {
    var result;

    $.ajax({
        url: '...',
        success: function(response) {
            result = response;
            // return response; // &lt;- I tried that one as well
        }
    });

    return result;
}

var result = foo(); // It always ends up being `undefined`.
</code></pre>
    </div>

        <div class="post-taglist grid gs4 gsy fd-column">
            <div class="grid ps-relative d-block">
                <a href="/questions/tagged/javascript" class="post-tag" title="show questions tagged &#39;javascript&#39;" rel="tag">javascript</a> <a href="/questions/tagged/ajax" class="post-tag" title="show questions tagged &#39;ajax&#39;" rel="tag">ajax</a> <a href="/questions/tagged/asynchronous" class="post-tag" title="show questions tagged &#39;asynchronous&#39;" rel="tag">asynchronous</a> <a href="/questions/tagged/ecmascript-6" class="post-tag" title="show questions tagged &#39;ecmascript-6&#39;" rel="tag">ecmascript-6</a> <a href="/questions/tagged/ecmascript-2017" class="post-tag" title="show questions tagged &#39;ecmascript-2017&#39;" rel="tag">ecmascript-2017</a> 
            </div>
        </div>

    <div class="mb0 ">
        <div class="mt16 pt4 grid gs8 gsy fw-wrap jc-end ai-start">
            <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/q/14220321/3093468" title="short permalink to this question" class="short-link" id="link-post-14220321">share</a><span class="lsep">|</span><a href="/posts/14220321/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="14220321">flag</a></div>
            </div>

                <div class="post-signature grid--cell">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/14220321/revisions" title="show all edits to this post">edited <span title="2018-03-15 05:12:35Z" class="relativetime">Mar 15 at 5:12</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/707111/ry"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/oXZkh.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/707111/ry">Ry-</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 163,366" dir="ltr">163k</span><span title="36 gold badges"><span class="badge1"></span><span class="badgecount">36</span></span><span title="330 silver badges"><span class="badge2"></span><span class="badgecount">330</span></span><span title="350 bronze badges"><span class="badge3"></span><span class="badgecount">350</span></span>
        </div>
    </div>
</div>                </div>
            <div class="post-signature owner grid--cell">
<div class="user-info user-hover">
    <div class="user-action-time">
        asked <span title="2013-01-08 17:06:14Z" class="relativetime">Jan 8 '13 at 17:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/218196/felix-kling"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/4P5DY.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/218196/felix-kling">Felix Kling</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 528,803" dir="ltr">529k</span><span title="120 gold badges"><span class="badge1"></span><span class="badgecount">120</span></span><span title="830 silver badges"><span class="badge2"></span><span class="badgecount">830</span></span><span title="882 bronze badges"><span class="badge3"></span><span class="badgecount">882</span></span>
        </div>
    </div>
</div>

            </div>
        </div>
    </div>
</div>

                        <div class="special-status post-layout--full">
                <div class="question-status">
        <h2>                    <b>protected</b> by <a href="/users/1026459/travis-j">Travis J</a> <span dir="ltr"><span title="2013-05-30 20:57:59Z" class="relativetime">May 30 '13 at 20:57</span></span>
</h2>
        <p>
This question is protected to prevent &quot;thanks!&quot;, &quot;me too!&quot;, or spam answers by new users. 
To answer it, you must have earned at least 10 <a href="/help/whats-reputation">reputation</a> on this site (the <a href="/help/privileges/new-user">association bonus does not count</a>).</p>
    </div>
            </div>
    
    <div class="post-layout--right">
	    <div id="comments-14220321" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="6"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-31066448" class="comment js-comment " data-comment-id="31066448">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="hot">26</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@MaximShoustin I&#39;ve added a JavaScript only answer (no jQuery) but like Felix said - &quot;How do I return the response from an AJAX call&quot; is really a nice way to say &quot;How does concurrency work in JavaScript&quot;. Not to mention Angular&#39;s <code>$http</code> is very similar to jQuery&#39;s <code>$.ajax</code> anyway with some minor differences (like interoping with the digest cycle).</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2013-12-22 21:42:53Z" class="relativetime-clean">Dec 22 '13 at 21:42</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-50500787" class="comment js-comment " data-comment-id="50500787">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="supernova">124</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy"><b>Do not</b> use <code>async: false</code>.  It will freeze the browser and drive users away.  Read <a href="http://blog.slaks.net/2015-01-04/async-method-patterns/" rel="nofollow noreferrer">blog.slaks.net/2015-01-04/async-method-patterns</a> to learn how to work with asynchronous operations.</span>
                    &ndash;&nbsp;<a href="/users/34397/slaks"
                       title="664,026 reputation"
                       class="comment-user">SLaks</a>
                <span class="comment-date" dir="ltr"><span title="2015-07-06 17:22:30Z" class="relativetime-clean">Jul 6 '15 at 17:22</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-57890582" class="comment js-comment " data-comment-id="57890582">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">9</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">It is possible like You did this by ading async: false as attribute of first parameter. See my answer below. @tvanfosson gave this solution on Stackoverflow.</span>
                    &ndash;&nbsp;<a href="/users/985706/arrowman"
                       title="128 reputation"
                       class="comment-user">arrowman</a>
                <span class="comment-date" dir="ltr"><span title="2016-01-29 12:26:55Z" class="relativetime-clean">Jan 29 '16 at 12:26</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-59714431" class="comment js-comment " data-comment-id="59714431">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">7</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">this mey help you <a href="http://codingbin.com/get-return-data-ajax-call/" rel="nofollow noreferrer">codingbin.com/get-return-data-ajax-call</a></span>
                    &ndash;&nbsp;<a href="/users/4587821/manoj-kumar"
                       title="3,292 reputation"
                       class="comment-user">Manoj Kumar</a>
                <span class="comment-date" dir="ltr"><span title="2016-03-16 10:09:43Z" class="relativetime-clean">Mar 16 '16 at 10:09</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-76875949" class="comment js-comment " data-comment-id="76875949">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">7</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@SLaks Someone please relay that to the website &quot;rock star developers&quot; at AirAsia.com. That&#39;s a great live case study (enhanced by the ajax calls taking a couple of seconds) of why never to use async: false.</span>
                    &ndash;&nbsp;<a href="/users/938039/m%c3%a2tt-fr%c3%ab%c3%abman"
                       title="878 reputation"
                       class="comment-user">M&#226;tt Fr&#235;&#235;man</a>
                <span class="comment-date" dir="ltr"><span title="2017-07-06 13:35:12Z" class="relativetime-clean">Jul 6 '17 at 13:35</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-14220321" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."></form>
				</div>
	    </div>

        <div id="comments-link-14220321" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>6</b> more comments</a>
        </div>         
    </div>              <div class="bounty-notification post-layout--right">
          <div style="margin-top:20px">
            <a class="bounty-link bounty" title="offer some of your reputation for better answers">
                start a bounty
            </a>
          </div>
          </div>
    </div>
</div>


<div id="dfp-isb" class="everyonelovesstackoverflow everyoneloves__inline-sidebar"></div>
        <div id="answers">

                <a name="tab-top"></a>
                <div id="answers-header">
                    <div class="subheader answers-subheader">
                        <h2 data-answercount="33">
                                33 Answers
                                <span style="display:none;" itemprop="answerCount">33</span>
                        </h2>
                        <div>
                            
<div id="tabs">
        <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere is-selected " href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
    </div>

                        </div>
                    </div>
                </div>


<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>

  
<a name="14220323"></a>
<div id="answer-14220323" class="answer accepted-answer" data-answerid="14220323"   itemprop="acceptedAnswer" itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="14220323">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post high-scored-post">4784</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>



        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>
<div class="bounty-award-container"><span class="bounty-award" title="This answer has been awarded bounties worth 150 reputation by apsillers and user70960">+150</span></div>

</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<blockquote>
  <p><em>&rarr; For a more general explanation of async behaviour with different examples, please see</em> <a href="https://stackoverflow.com/q/23667086/218196">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a>  </p>
  
  <p><em>&rarr; If you already understand the problem, skip to the possible solutions below.</em></p>
</blockquote>

<h1>The problem</h1>

<p>The <strong>A</strong> in <a href="https://en.wikipedia.org/wiki/Ajax_(programming)" rel="noreferrer">Ajax</a> stands for <a href="https://www.merriam-webster.com/dictionary/asynchronous" rel="noreferrer"><strong>asynchronous</strong></a> . That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <code>$.ajax</code> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>

<p>Here is an analogy which hopefully makes the difference between synchronous and asynchronous flow clearer: </p>

<h2>Synchronous</h2>

<p>Imagine you make a phone call to a friend and ask him to look something up for you. Although it might take a while, you wait on the phone and stare into space, until your friend gives you the answer that you needed.</p>

<p>The same is happening when you make a function call containing "normal" code:</p>

<pre><code>function findItem() {
    var item;
    while(item_not_found) {
        // search
    }
    return item;
}

var item = findItem();

// Do something with item
doSomethingElse();
</code></pre>

<p>Even though <code>findItem</code> might take a long time to execute, any code coming after <code>var item = findItem();</code> has to <em>wait</em> until the function returns the result.</p>

<h2>Asynchronous</h2>

<p>You call your friend again for the same reason. But this time you tell him that you are in a hurry and he should <em>call you back</em> on your mobile phone. You hang up, leave the house and do whatever you planned to do. Once your friend calls you back, you are dealing with the information he gave to you.</p>

<p>That's exactly what's happening when you do an Ajax request. </p>

<pre><code>findItem(function(item) {
    // Do something with item
});
doSomethingElse();
</code></pre>

<p>Instead of waiting for the response, the execution continues immediately and the statement after the Ajax call is executed. To get the response eventually, you provide a function to be called once the response was received, a <em>callback</em> (notice something? <em>call back</em> ?). Any statement coming after that call is executed before the callback is called.</p>

<hr>

<h1>Solution(s)</h1>

<p><strong>Embrace the asynchronous nature of JavaScript!</strong> While certain asynchronous operations provide synchronous counterparts (so does "Ajax"), it's generally discouraged to use them, especially in a browser context.</p>

<p>Why is it bad do you ask?</p>

<p>JavaScript runs in the UI thread of the browser and any long running process will lock the UI, making it unresponsive. Additionally, there is an upper limit on the execution time for JavaScript and the browser will ask the user whether to continue the execution or not. </p>

<p>All of this is really bad user experience. The user won't be able to tell whether everything is working fine or not. Furthermore, the effect will be worse for users with a slow connection.</p>

<p>In the following we will look at three different solutions that are all building on top of each other:</p>

<ul>
<li><strong>Promises with <code>async/await</code></strong> (ES2017+, available in older browsers if you use a transpiler or regenerator)</li>
<li><strong>Callbacks</strong> (popular in node)</li>
<li><strong>Promises with <code>then()</code></strong> (ES2015+, available in older browsers if you use one of the many promise libraries)</li>
</ul>

<p><strong>All three are available in current browsers, and node 7+.</strong> </p>

<hr>

<h2>ES2017+: Promises with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noreferrer"><code>async/await</code></a></h2>

<p>The new ECMAScript version released in 2017 introduced <em>syntax-level support</em> for asynchronous functions. With the help of <code>async</code> and <code>await</code>, you can write asynchronous in a "synchronous style". Make no mistake though: The code is still asynchronous, but it's easier to read/understand.</p>

<p><code>async/await</code> builds on top of promises: an <code>async</code> function always returns a promise. <code>await</code> "unwraps" a promise and either result in the value the promise was resolved with or throws an error if the promise was rejected.</p>

<p><strong>Important:</strong> You can only use <code>await</code> inside an <code>async</code> function. That means that at the very top level, you still have to work directly with the promise.</p>

<p>You can read more about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noreferrer"><code>async</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="noreferrer"><code>await</code></a> on MDN.</p>

<p>Here is an example that builds on top of delay above:</p>

<pre><code>// Using 'superagent' which will return a promise.
var superagent = require('superagent')

// This is isn't declared as `async` because it already returns a promise
function delay() {
  // `delay` returns a promise
  return new Promise(function(resolve, reject) {
    // Only `delay` is able to resolve or reject the promise
    setTimeout(function() {
      resolve(42); // After 3 seconds, resolve the promise with value 42
    }, 3000);
  });
}


async function getAllBooks() {
  try {
    // GET a list of book IDs of the current user
    var bookIDs = await superagent.get('/user/books');
    // wait for 3 seconds (just for the sake of this example)
    await delay();
    // GET information about each book
    return await superagent.get('/books/ids='+JSON.stringify(bookIDs));
  } catch(error) {
    // If any of the awaited promises was rejected, this catch block
    // would catch the rejection reason
    return null;
  }
}

// Async functions always return a promise
getAllBooks()
  .then(function(books) {
    console.log(books);
  });
</code></pre>

<p>Newer <a href="https://kangax.github.io/compat-table/es2016plus/#test-async_functions" rel="noreferrer">browser</a> and <a href="http://node.green/#ES2017-features-async-functions" rel="noreferrer">node</a> versions support <code>async/await</code>. You can also support older environments by transforming your code to ES5 with the help of <a href="https://github.com/facebook/regenerator" rel="noreferrer">regenerator</a> (or tools that use regenerator, such as <a href="https://babeljs.io/" rel="noreferrer">Babel</a>).</p>

<hr>

<h2>Let functions accept <em>callbacks</em></h2>

<p>A callback is simply a function passed to another function. That other function can call the function passed whenever it is ready. In the context of an asynchronous process, the callback will be called whenever the asynchronous process is done. Usually, the result is passed to the callback.</p>

<p>In the example of the question, you can make <code>foo</code> accept a callback and use it as <code>success</code> callback. So this</p>

<pre><code>var result = foo();
// Code that depends on 'result'
</code></pre>

<p>becomes</p>

<pre><code>foo(function(result) {
    // Code that depends on 'result'
});
</code></pre>

<p>Here we defined the function "inline" but you can pass any function reference:</p>

<pre><code>function myCallback(result) {
    // Code that depends on 'result'
}

foo(myCallback);
</code></pre>

<p><code>foo</code> itself is defined as follows:</p>

<pre><code>function foo(callback) {
    $.ajax({
        // ...
        success: callback
    });
}
</code></pre>

<p><code>callback</code> will refer to the function we pass to <code>foo</code> when we call it and we simply pass it on to <code>success</code>. I.e. once the Ajax request is successful, <code>$.ajax</code> will call <code>callback</code> and pass the response to the callback (which can be referred to with <code>result</code>, since this is how we defined the callback).</p>

<p>You can also process the response before passing it to the callback:</p>

<pre><code>function foo(callback) {
    $.ajax({
        // ...
        success: function(response) {
            // For example, filter the response
            callback(filtered_response);
        }
    });
}
</code></pre>

<p>It's easier to write code using callbacks than it may seem. After all, JavaScript in the browser is heavily event-driven (DOM events). Receiving the Ajax response is nothing else but an event.<br>
Difficulties could arise when you have to work with third-party code, but most problems can be solved by just thinking through the application flow.</p>

<hr>

<h2>ES2015+: Promises with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">then()</a></h2>

<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">Promise API</a> is a new feature of ECMAScript 6 (ES2015), but it has good <a href="http://caniuse.com/#feat=promises" rel="noreferrer" title="caniuse">browser support</a> already. There are also many libraries which implement the standard Promises API and provide additional methods to ease the use and composition of asynchronous functions (e.g. <a href="https://github.com/petkaantonov/bluebird" rel="noreferrer">bluebird</a>).</p>

<p>Promises are containers for <em>future</em> values. When the promise receives the value (it is <em>resolved</em>) or when it is cancelled (<em>rejected</em>), it notifies all of its "listeners" who want to access this value.</p>

<p>The advantage over plain callbacks is that they allow you to decouple your code and they are easier to compose.</p>

<p>Here is a simple example of using a promise:</p>

<pre><code>function delay() {
  // `delay` returns a promise
  return new Promise(function(resolve, reject) {
    // Only `delay` is able to resolve or reject the promise
    setTimeout(function() {
      resolve(42); // After 3 seconds, resolve the promise with value 42
    }, 3000);
  });
}

delay()
  .then(function(v) { // `delay` returns a promise
    console.log(v); // Log the value once it is resolved
  })
  .catch(function(v) {
    // Or do something else if it is rejected 
    // (it would not happen in this example, since `reject` is not called).
  });
</code></pre>

<p>Applied to our Ajax call we could use promises like this:</p>

<pre><code>function ajax(url) {
  return new Promise(function(resolve, reject) {
    var xhr = new XMLHttpRequest();
    xhr.onload = function() {
      resolve(this.responseText);
    };
    xhr.onerror = reject;
    xhr.open('GET', url);
    xhr.send();
  });
}

ajax("/echo/json")
  .then(function(result) {
    // Code depending on result
  })
  .catch(function() {
    // An error occurred
  });
</code></pre>

<p>Describing all the advantages that promise offer is beyond the scope of this answer, but if you write new code, you should seriously consider them. They provide a great abstraction and separation of your code.</p>

<p>More information about promises: <a href="http://www.html5rocks.com/en/tutorials/es6/promises/" rel="noreferrer">HTML5 rocks - JavaScript Promises</a></p>

<h3>Side note: jQuery's deferred objects</h3>

<p><a href="https://stackoverflow.com/questions/4866721/what-are-deferred-objects">Deferred objects</a> are jQuery's custom implementation of promises (before the Promise API was standardized). They behave almost like promises but expose a slightly different API.</p>

<p>Every Ajax method of jQuery already returns a "deferred object" (actually a promise of a deferred object) which you can just return from your function:</p>

<pre><code>function ajax() {
    return $.ajax(...);
}

ajax().done(function(result) {
    // Code depending on result
}).fail(function() {
    // An error occurred
});
</code></pre>

<h3>Side note: Promise gotchas</h3>

<p>Keep in mind that promises and deferred objects are just <em>containers</em> for a future value, they are not the value itself. For example, suppose you had the following:</p>

<pre><code>function checkPassword() {
    return $.ajax({
        url: '/password',
        data: {
            username: $('#username').val(),
            password: $('#password').val()
        },
        type: 'POST',
        dataType: 'json'
    });
}

if (checkPassword()) {
    // Tell the user they're logged in
}
</code></pre>

<p>This code misunderstands the above asynchrony issues. Specifically, <code>$.ajax()</code> doesn't freeze the code while it checks the '/password' page on your server - it sends a request to the server and while it waits, immediately returns a jQuery Ajax Deferred object, not the response from the server. That means the <code>if</code> statement is going to always get this Deferred object, treat it as <code>true</code>, and proceed as though the user is logged in. Not good.</p>

<p>But the fix is easy:</p>

<pre><code>checkPassword()
.done(function(r) {
    if (r) {
        // Tell the user they're logged in
    } else {
        // Tell the user their password was bad
    }
})
.fail(function(x) {
    // Tell the user something bad happened
});
</code></pre>

<hr>

<h2>Not recommended: Synchronous "Ajax" calls</h2>

<p>As I mentioned, some(!) asynchronous operations have synchronous counterparts. I don't advocate their use, but for completeness' sake, here is how you would perform a synchronous call:</p>

<h3>Without jQuery</h3>

<p>If you directly use a <a href="http://www.w3.org/TR/XMLHttpRequest/" rel="noreferrer"><code>XMLHTTPRequest</code></a> object, pass <code>false</code> as third argument to <a href="http://www.w3.org/TR/XMLHttpRequest/#the-open%28%29-method" rel="noreferrer"><code>.open</code></a>.</p>

<h3>jQuery</h3>

<p>If you use <a href="http://api.jquery.com/jQuery.ajax/" rel="noreferrer">jQuery</a>, you can set the <code>async</code> option to <code>false</code>. Note that this option is <em>deprecated</em> since jQuery 1.8.
You can then either still use a <code>success</code> callback or access the <code>responseText</code> property of the <a href="http://api.jquery.com/jQuery.ajax/#jqXHR" rel="noreferrer">jqXHR object</a>:</p>

<pre><code>function foo() {
    var jqXHR = $.ajax({
        //...
        async: false
    });
    return jqXHR.responseText;
}
</code></pre>

<p>If you use any other jQuery Ajax method, such as <code>$.get</code>, <code>$.getJSON</code>, etc., you have to change it to <code>$.ajax</code> (since you can only pass configuration parameters to <code>$.ajax</code>).</p>

<p><strong>Heads up!</strong> It is not possible to make a synchronous <a href="https://stackoverflow.com/questions/2067472/please-explain-jsonp">JSONP</a> request. JSONP by its very nature is always asynchronous (one more reason to not even consider this option).</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/14220323/3093468" title="short permalink to this answer" class="short-link" id="link-post-14220323">share</a><span class="lsep">|</span><a href="/posts/14220323/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="14220323">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/14220323/revisions" title="show all edits to this post">edited <span title="2018-09-28 02:17:15Z" class="relativetime">Sep 28 at 2:17</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1989205/cavell-blood"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/073ec2de1aabdec7c4c644749c986e07?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1989205/cavell-blood">Cavell Blood</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">107</span><span title="6 bronze badges"><span class="badge3"></span><span class="badgecount">6</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature owner grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-01-08 17:06:14Z" class="relativetime">Jan 8 '13 at 17:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/218196/felix-kling"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/4P5DY.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/218196/felix-kling">Felix Kling</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 528,803" dir="ltr">529k</span><span title="120 gold badges"><span class="badge1"></span><span class="badgecount">120</span></span><span title="830 silver badges"><span class="badge2"></span><span class="badgecount">830</span></span><span title="882 bronze badges"><span class="badge3"></span><span class="badgecount">882</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-14220323" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="31"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-19995335" class="comment js-comment " data-comment-id="19995335">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="supernova">60</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@Pommy: If you want to use jQuery, you have to include it. Please refer to <a href="http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery" rel="nofollow noreferrer">docs.jquery.com/Tutorials:Getting_Started_with_jQuery</a>.</span>
                    &ndash;&nbsp;<a href="/users/218196/felix-kling"
                       title="528,803 reputation"
                       class="comment-user owner">Felix Kling</a>
                <span class="comment-date" dir="ltr"><span title="2013-01-17 10:47:54Z" class="relativetime-clean">Jan 17 '13 at 10:47</span></span>
                        <span title="this comment was edited 2 times">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-20623437" class="comment js-comment " data-comment-id="20623437">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">5</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">In Solution 1, sub jQuery, I could not understand this line: <code>If you use any other jQuery AJAX method, such as $.get, $.getJSON, etc., you have them to $.ajax.</code> (Yes, I realize my nick is a tad ironic in this case)</span>
                    &ndash;&nbsp;<a href="/users/1447509/gibberish"
                       title="19,865 reputation"
                       class="comment-user">gibberish</a>
                <span class="comment-date" dir="ltr"><span title="2013-02-06 21:07:03Z" class="relativetime-clean">Feb 6 '13 at 21:07</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-20627138" class="comment js-comment " data-comment-id="20627138">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="hot">23</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@gibberish: Mmmh, I don&#39;t know how it can be made clearer. Do you see how <code>foo</code> is called and a function is passed to it (<code>foo(function(result) {....});</code>)? <code>result</code> is used inside this function and is the response of the Ajax request. To refer to this function, the first parameter of foo is called <code>callback</code> and assigned to <code>success</code> instead of an anonymous function. So, <code>$.ajax</code> will call <code>callback</code> when the request was successful. I tried to explain it a bit more.</span>
                    &ndash;&nbsp;<a href="/users/218196/felix-kling"
                       title="528,803 reputation"
                       class="comment-user owner">Felix Kling</a>
                <span class="comment-date" dir="ltr"><span title="2013-02-06 23:29:52Z" class="relativetime-clean">Feb 6 '13 at 23:29</span></span>
                        <span title="this comment was edited 3 times">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-22863864" class="comment js-comment " data-comment-id="22863864">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="supernova">32</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">The Chat for this question is dead so I&#39;m not sure where to propose outlined changes, but I propose: 1) Change the synchronous part to a simple discussion of why it&#39;s bad with no code example of how to do it. 2) Remove/merge the callback examples to only show the more flexible Deferred approach, which I think may also be a little easier to follow for those learning Javascript.</span>
                    &ndash;&nbsp;<a href="/users/176877/chris-moschini"
                       title="25,102 reputation"
                       class="comment-user">Chris Moschini</a>
                <span class="comment-date" dir="ltr"><span title="2013-04-16 02:45:22Z" class="relativetime-clean">Apr 16 '13 at 2:45</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-53867591" class="comment js-comment " data-comment-id="53867591">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">10</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@Jessi: I think you misunderstood that part of the answer. You cannot use <code>$.getJSON</code> if you want the Ajax request to be synchronous. However, you should not event want the request to be synchronous, so that doesn&#39;t apply. You should be using callbacks or promises  to handle the response, as it is explained earlier in the answer.</span>
                    &ndash;&nbsp;<a href="/users/218196/felix-kling"
                       title="528,803 reputation"
                       class="comment-user owner">Felix Kling</a>
                <span class="comment-date" dir="ltr"><span title="2015-10-08 17:44:18Z" class="relativetime-clean">Oct 8 '15 at 17:44</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-14220323" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-14220323" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>31</b> more comments</a>
        </div>         
    </div>    </div>
</div>
<div id="dfp-mlb" class="everyonelovesstackoverflow everyoneloves__mid-leaderboard"></div>
  
<a name="16825593"></a>
<div id="answer-16825593" class="answer" data-answerid="16825593"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="16825593">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">909</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>If you're <em>not</em> using jQuery in your code, this answer is for you</h1>

<p>Your code should be something along the lines of this:</p>

<pre><code>function foo() {
    var httpRequest = new XMLHttpRequest();
    httpRequest.open('GET', "/echo/json");
    httpRequest.send();
    return httpRequest.responseText;
}

var result = foo(); // always ends up being 'undefined'
</code></pre>

<p>Felix Kling did a fine job writing an answer for people using jQuery for AJAX, I've decided to provide an alternative for people who aren't.</p>

<p>(<a href="https://stackoverflow.com/a/30180679/1348195">Note, for those using the new <code>fetch</code> API, Angular or promises I've added another answer below</a>)</p>

<hr>

<h1>What you're facing</h1>

<p>This is a short summary of "Explanation of the problem" from the other answer, if you're not sure after reading this, read that.</p>

<p>The <strong>A</strong> in AJAX stands for <strong>asynchronous</strong>. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#send%28%29" rel="noreferrer"><code>.send</code></a> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>

<p>This means when you're returning, the listener you've defined did not execute yet, which means the value you're returning has not been defined. </p>

<p>Here is a simple analogy</p>

<pre><code>function getFive(){ 
    var a;
    setTimeout(function(){
         a=5;
    },10);
    return a;
}
</code></pre>

<p><a href="http://jsfiddle.net/7RK3k/" rel="noreferrer">(Fiddle)</a></p>

<p>The value of <code>a</code> returned is <code>undefined</code> since the <code>a=5</code> part has not executed yet. AJAX acts like this, you're returning the value before the server got the chance to tell your browser what that value is.</p>

<p>One possible solution to this problem is to code <em>re-actively</em> , telling your program what to do when the calculation completed.</p>

<pre><code>function onComplete(a){ // When the code completes, do this
    alert(a);
}

function getFive(whenDone){ 
    var a;
    setTimeout(function(){
         a=5;
         whenDone(a);
    },10);
}
</code></pre>

<p>This is called <a href="http://en.wikipedia.org/wiki/Continuation-passing_style" rel="noreferrer">CPS</a>. Basically, we're passing <code>getFive</code> an action to perform when it completes, we're telling our code how to react when an event completes (like our AJAX call, or in this case the timeout).</p>

<p>Usage would be:</p>

<pre><code>getFive(onComplete);
</code></pre>

<p>Which should alert "5" to the screen. <a href="http://jsfiddle.net/PAjZR/" rel="noreferrer">(Fiddle)</a>.</p>

<h1>Possible solutions</h1>

<p>There are basically two ways how to solve this:</p>

<ol>
<li>Make the AJAX call synchronous (lets call it SJAX).</li>
<li>Restructure your code to work properly with callbacks.</li>
</ol>

<h2>1. Synchronous AJAX - Don't do it!!</h2>

<p>As for synchronous AJAX, <strong>don't do it!</strong> Felix's answer raises some compelling arguments about why it's a bad idea. To sum it up, it'll freeze the user's browser until the server returns the response and create a very bad user experience. Here is another short summary taken from MDN on why:</p>

<blockquote>
  <p>XMLHttpRequest supports both synchronous and asynchronous communications. In general, however, asynchronous requests should be preferred to synchronous requests for performance reasons.</p>
  
  <p>In short, synchronous requests block the execution of code... ...this can cause serious issues...</p>
</blockquote>

<p>If you <em>have</em> to do it, you can pass a flag: <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Synchronous_request" rel="noreferrer">Here is how:</a></p>

<pre><code>var request = new XMLHttpRequest();
request.open('GET', 'yourURL', false);  // `false` makes the request synchronous
request.send(null);

if (request.status === 200) {// That's HTTP for 'ok'
  console.log(request.responseText);
}
</code></pre>

<h2>2. Restructure code</h2>

<p>Let your function accept a callback. In the example code <code>foo</code> can be made to accept a callback. We'll be telling our code how to <em>react</em> when <code>foo</code> completes. </p>

<p>So:</p>

<pre><code>var result = foo();
// code that depends on `result` goes here
</code></pre>

<p>Becomes:</p>

<pre><code>foo(function(result) {
    // code that depends on `result`
});
</code></pre>

<p>Here we passed an anonymous function, but we could just as easily pass a reference to an existing function, making it look like:</p>

<pre><code>function myHandler(result) {
    // code that depends on `result`
}
foo(myHandler);
</code></pre>

<p>For more details on how this sort of callback design is done, check Felix's answer. </p>

<p>Now, let's define foo itself to act accordingly</p>

<pre><code>function foo(callback) {
    var httpRequest = new XMLHttpRequest();
    httpRequest.onload = function(){ // when the request is loaded
       callback(httpRequest.responseText);// we're calling our method
    };
    httpRequest.open('GET', "/echo/json");
    httpRequest.send();
}
</code></pre>

<p><a href="http://jsfiddle.net/DAcWT/" rel="noreferrer">(fiddle)</a></p>

<p>We have now made our foo function accept an action to run when the AJAX completes successfully, we can extend this further by checking if the response status is not 200 and acting accordingly (create a fail handler and such). Effectively solving our issue.</p>

<p>If you're still having a hard time understanding this <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" rel="noreferrer">read the AJAX getting started guide</a> at MDN.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/16825593/3093468" title="short permalink to this answer" class="short-link" id="link-post-16825593">share</a><span class="lsep">|</span><a href="/posts/16825593/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="16825593">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/16825593/revisions" title="show all edits to this post">edited <span title="2018-03-01 01:03:52Z" class="relativetime">Mar 1 at 1:03</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/7848065/%e1%b4%a1%ca%9c%e1%b4%80%e1%b4%84%e1%b4%8b%e1%b4%80%e1%b4%8d%e1%b4%80%e1%b4%85%e1%b4%8f%e1%b4%8f%e1%b4%85%ca%9f%e1%b4%873000"><div class="gravatar-wrapper-32"><img src="https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=32" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/7848065/%e1%b4%a1%ca%9c%e1%b4%80%e1%b4%84%e1%b4%8b%e1%b4%80%e1%b4%8d%e1%b4%80%e1%b4%85%e1%b4%8f%e1%b4%8f%e1%b4%85%ca%9f%e1%b4%873000">á´¡Êœá´€á´„á´‹á´€á´á´€á´…á´á´á´…ÊŸá´‡3000</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,572</span><span title="4 gold badges"><span class="badge1"></span><span class="badgecount">4</span></span><span title="12 silver badges"><span class="badge2"></span><span class="badgecount">12</span></span><span title="30 bronze badges"><span class="badge3"></span><span class="badgecount">30</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-05-29 23:30:56Z" class="relativetime">May 29 '13 at 23:30</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1348195/benjamin-gruenbaum"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1348195/benjamin-gruenbaum">Benjamin Gruenbaum</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 180,561" dir="ltr">181k</span><span title="61 gold badges"><span class="badge1"></span><span class="badgecount">61</span></span><span title="392 silver badges"><span class="badge2"></span><span class="badgecount">392</span></span><span title="433 bronze badges"><span class="badge3"></span><span class="badgecount">433</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-16825593" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-26791233" class="comment js-comment " data-comment-id="26791233">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">11</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">&quot;synchronous requests block the execution of code and can leak memory and events&quot; how can a synchronous request leak memory?</span>
                    &ndash;&nbsp;<a href="/users/1450248/matthew-g"
                       title="455 reputation"
                       class="comment-user">Matthew G</a>
                <span class="comment-date" dir="ltr"><span title="2013-08-16 05:54:22Z" class="relativetime-clean">Aug 16 '13 at 5:54</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-26795117" class="comment js-comment " data-comment-id="26795117">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">6</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@MatthewG I&#39;ve added a bounty on it in <a href="http://stackoverflow.com/questions/14364992/how-synchronous-ajax-call-could-cause-memory-leak">this question</a>, I&#39;ll see what I can fish out. I&#39;m removing the quote from the answer in the mean time.</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2013-08-16 08:28:00Z" class="relativetime-clean">Aug 16 '13 at 8:28</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-31065885" class="comment js-comment " data-comment-id="31065885">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">11</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Just for the reference, XHR 2 allows us to use the <code>onload</code> handler, which only fires when <code>readyState</code> is <code>4</code>. Of course, it&#39;s not supported in IE8. (iirc, may need confirmation.)</span>
                    &ndash;&nbsp;<a href="/users/851498/florian-margaine"
                       title="40,570 reputation"
                       class="comment-user">Florian Margaine</a>
                <span class="comment-date" dir="ltr"><span title="2013-12-22 21:09:19Z" class="relativetime-clean">Dec 22 '13 at 21:09</span></span>
                        <span title="this comment was edited 2 times">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-39206137" class="comment js-comment " data-comment-id="39206137">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">5</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Your explanation of how to pass an anonymous function as a callback is valid but misleading. The example var bar = foo(); is asking for a variable to be defined, whereas your suggested foo(functim() {}); doesn&#39;t define bar</span>
                    &ndash;&nbsp;<a href="/users/2812842/robbie-averill"
                       title="19,792 reputation"
                       class="comment-user">Robbie Averill</a>
                <span class="comment-date" dir="ltr"><span title="2014-08-07 10:14:22Z" class="relativetime-clean">Aug 7 '14 at 10:14</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-16825593" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-16825593" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="18309057"></a>
<div id="answer-18309057" class="answer" data-answerid="18309057"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="18309057">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">314</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p><strong><a href="http://en.wikipedia.org/wiki/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a> 2</strong> (first of all read the answers from Benjamin Gruenbaum &amp; Felix Kling)</p>

<p>If you don't use jQuery and want a nice short XMLHttpRequest 2 which works on the modern browsers and also on the mobile browsers I suggest to use it this way:</p>

<pre><code>function ajax(a, b, c){ // URL, callback, just a placeholder
  c = new XMLHttpRequest;
  c.open('GET', a);
  c.onload = b;
  c.send()
}
</code></pre>

<p>As you can see:</p>

<ol>
<li>It's shorter than all other functions Listed.</li>
<li>The callback is set directly (so no extra unnecessary closures).</li>
<li>It uses the new onload (so you don't have to check for readystate &amp;&amp; status)</li>
<li>There are some other situations which I don't remember that make the XMLHttpRequest 1 annoying.</li>
</ol>

<p>There are two ways to get the response of this Ajax call (three using the XMLHttpRequest var name):</p>

<p>The simplest:</p>

<pre><code>this.response
</code></pre>

<p>Or if for some reason you <code>bind()</code> the callback to a class:</p>

<pre><code>e.target.response
</code></pre>

<p>Example:</p>

<pre><code>function callback(e){
  console.log(this.response);
}
ajax('URL', callback);
</code></pre>

<p>Or (the above one is better anonymous functions are always a problem):</p>

<pre><code>ajax('URL', function(e){console.log(this.response)});
</code></pre>

<p>Nothing easier.</p>

<p>Now some people will probably say that it's better to use onreadystatechange or the even the XMLHttpRequest variable name. That's wrong.</p>

<p>Check out <a href="http://caniuse.com/xhr2" rel="noreferrer">XMLHttpRequest advanced features</a></p>

<p>It supported on all *modern browsers. And I can confirm as I'm using this approach since XMLHttpRequest 2 exists. I never had any type of problem on all browsers I use.</p>

<p>onreadystatechange is only useful if you want to get the headers on state 2.</p>

<p>Using the <code>XMLHttpRequest</code> variable name is another big error as you need to execute the callback inside the onload/oreadystatechange closures else you lost it.</p>

<hr>

<p>Now if you want something more complex using post and FormData you can easily extend this function:</p>

<pre><code>function x(a, b, e, d, c){ // URL, callback, method, formdata or {key:val},placeholder
  c = new XMLHttpRequest;
  c.open(e||'get', a);
  c.onload = b;
  c.send(d||null)
}
</code></pre>

<p>Again ... it's a very short function, but it does get &amp; post.</p>

<p>Examples of usage:</p>

<pre><code>x(url, callback); // By default it's get so no need to set
x(url, callback, 'post', {'key': 'val'}); // No need to set post data
</code></pre>

<p>Or pass a full form element (<code>document.getElementsByTagName('form')[0]</code>):</p>

<pre><code>var fd = new FormData(form);
x(url, callback, 'post', fd);
</code></pre>

<p>Or set some custom values:</p>

<pre><code>var fd = new FormData();
fd.append('key', 'val')
x(url, callback, 'post', fd);
</code></pre>

<p>As you can see I didn't implement sync... it's a bad thing.</p>

<p>Having said that ... why don't do it the easy way?</p>

<hr>

<p>As mentioned in the comment the use of error &amp;&amp; synchronous does completely break the point of the answer. Which is a nice short way to use Ajax in the proper way?</p>

<p><em>Error handler</em></p>

<pre><code>function x(a, b, e, d, c){ // URL, callback, method, formdata or {key:val}, placeholder
  c = new XMLHttpRequest;
  c.open(e||'get', a);
  c.onload = b;
  c.onerror = error;
  c.send(d||null)
}

function error(e){
  console.log('--Error--', this.type);
  console.log('this: ', this);
  console.log('Event: ', e)
}
function displayAjax(e){
  console.log(e, this);
}
x('WRONGURL', displayAjax);
</code></pre>

<p>In the above script, you have an error handler which is statically defined so it does not compromise the function. The error handler can be used for other functions too.</p>

<p>But to really get out an error the <strong>only</strong> way is to write a wrong URL in which case every browser throws an error.</p>

<p>Error handlers are maybe useful if you set custom headers, set the responseType to blob array buffer or whatever....</p>

<p>Even if you pass 'POSTAPAPAP' as the method it won't throw an error.</p>

<p>Even if you pass 'fdggdgilfdghfldj' as formdata it won't throw an error.</p>

<p>In the first case the error is inside the <code>displayAjax()</code> under <code>this.statusText</code> as <code>Method not Allowed</code>.</p>

<p>In the second case, it simply works. You have to check at the server side if you passed the right post data.</p>

<p>cross-domain not allowed throws error automatically.</p>

<p>In the error response, there are no error codes.</p>

<p>There is only the <code>this.type</code> which is set to error.</p>

<p>Why add an error handler if you totally have no control over errors?
Most of the errors are returned inside this in the callback function <code>displayAjax()</code>.</p>

<p>So: No need for error checks if you're able to copy and paste the URL properly. ;)</p>

<p><em>PS: As the first test I wrote x('x', displayAjax)..., and it totally got a response...??? So I checked the folder where the HTML is located, and there was a file called 'x.xml'. So even if you forget the extension of your file XMLHttpRequest 2 WILL FIND IT</em>. I LOL'd</p>

<hr>

<p><em>Read a file synchronous</em></p>

<p><strong>Don't do that.</strong></p>

<p>If you want to block the browser for a while load a nice big txt file synchronous.</p>

<pre><code>function omg(a, c){ // URL
  c = new XMLHttpRequest;
  c.open('GET', a, true);
  c.send();
  return c; // Or c.response
}
</code></pre>

<p>Now you can do</p>

<pre><code> var res = omg('thisIsGonnaBlockThePage.txt');
</code></pre>

<p>There is no other way to do this in a non-asynchronous way. (Yeah, with setTimeout loop... but seriously?)</p>

<p>Another point is... if you work with APIs or just you own list's files or whatever you always use different functions for each request...</p>

<p>Only if you have a page where you load always the same XML/JSON or whatever you need only one function. In that case, modify a little the Ajax function and replace b with your special function.</p>

<hr>

<p>The functions above are for basic use.</p>

<p>If you want to EXTEND the function...</p>

<p>Yes, you can.</p>

<p>I'm using a lot of APIs and one of the first functions I integrate into every HTML page is the first Ajax function in this answer, with GET only...</p>

<p>But you can do a lot of stuff with XMLHttpRequest 2:</p>

<p>I made a download manager (using ranges on both sides with resume, filereader, filesystem), various image resizers converters using canvas, populate websql databases with base64images and much more... But in these cases you should create a function only for that purpose... sometimes you need a blob, array buffers, you can set headers, override mimetype and there is a lot more...</p>

<p>But the question here is how to return an Ajax response... (I added an easy way.)</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/18309057/3093468" title="short permalink to this answer" class="short-link" id="link-post-18309057">share</a><span class="lsep">|</span><a href="/posts/18309057/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="18309057">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/18309057/revisions" title="show all edits to this post">edited <span title="2017-10-18 09:22:56Z" class="relativetime">Oct 18 '17 at 9:22</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/956198/efarzad"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/2a759f393bec5c8a454f16771f2a0f08?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/956198/efarzad">eFarzad</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">551</span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="21 bronze badges"><span class="badge3"></span><span class="badgecount">21</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-08-19 08:06:04Z" class="relativetime">Aug 19 '13 at 8:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2450730/cocco"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/1889fd8b5bf2de93682e3f78f6abf5e2?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2450730/cocco">cocco</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 11,927" dir="ltr">11.9k</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="40 silver badges"><span class="badge2"></span><span class="badgecount">40</span></span><span title="67 bronze badges"><span class="badge3"></span><span class="badgecount">67</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-18309057" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-27017518" class="comment js-comment " data-comment-id="27017518">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">10</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">While this answer is nice (And we all <i>love</i> XHR2 and posting file data and multipart data is totally awesome) - this shows syntactic sugar for posting XHR with JavaScript - you might want to put this in a blog post (I&#39;d like it) or even in a library (not sure about the name <code>x</code>, <code>ajax</code> or <code>xhr</code> might be nicer :)). I don&#39;t see how it addresses returning the response from an AJAX call. (someone could still do <code>var res = x(&quot;url&quot;)</code> and not understand why it doesn&#39;t work ;)). On a side note - it would be cool if you returned <code>c</code> from the method so users can hook on <code>error</code> etc.</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2013-08-23 05:56:49Z" class="relativetime-clean">Aug 23 '13 at 5:56</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-27040129" class="comment js-comment " data-comment-id="27040129">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="hot">20</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy"><code>2.ajax is meant to be async.. so NO var res=x(&#39;url&#39;)..</code> That&#39;s the entire point of this question and answers :)</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2013-08-23 17:28:35Z" class="relativetime-clean">Aug 23 '13 at 17:28</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-69720230" class="comment js-comment " data-comment-id="69720230">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">2</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">why is there a &#39;c&#39; parameter in the functions, if on the first line you&#39;re overwriting whatever value it had? am i missing something?</span>
                    &ndash;&nbsp;<a href="/users/5576477/brian-h"
                       title="683 reputation"
                       class="comment-user">Brian H.</a>
                <span class="comment-date" dir="ltr"><span title="2016-12-21 10:00:52Z" class="relativetime-clean">Dec 21 '16 at 10:00</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-69723040" class="comment js-comment " data-comment-id="69723040">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">1</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">You can use parameters as a placeholder to avoid writing multiple times &quot;var&quot;</span>
                    &ndash;&nbsp;<a href="/users/2450730/cocco"
                       title="11,927 reputation"
                       class="comment-user">cocco</a>
                <span class="comment-date" dir="ltr"><span title="2016-12-21 11:05:21Z" class="relativetime-clean">Dec 21 '16 at 11:05</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-80206295" class="comment js-comment " data-comment-id="80206295">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@cocco So you wrote misleading, unreadable code in a SO <i>answer</i> in order to save a few keystrokes? Please don&#39;t do that.</span>
                    &ndash;&nbsp;<a href="/users/37168/stone"
                       title="4,275 reputation"
                       class="comment-user">stone</a>
                <span class="comment-date" dir="ltr"><span title="2017-10-08 06:20:55Z" class="relativetime-clean">Oct 8 '17 at 6:20</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-18309057" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-18309057" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="30180679"></a>
<div id="answer-30180679" class="answer" data-answerid="30180679"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="30180679">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">253</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>If you're using promises, this answer is for you.</h1>

<p>This means AngularJS, jQuery (with deferred), native XHR's replacement (fetch), EmberJS, BackboneJS's save or any node library that returns promises.</p>

<p>Your code should be something along the lines of this:</p>

<pre><code>function foo() {
    var data;
    // or $.get(...).then, or request(...).then, or query(...).then
    fetch("/echo/json").then(function(response){
        data = response.json();
    });
    return data;
}

var result = foo(); // result is always undefined no matter what.
</code></pre>

<p>Felix Kling did a fine job writing an answer for people using jQuery with callbacks for AJAX. I have an answer for native XHR. This answer is for generic usage of promises either on the frontend or backend. </p>

<hr>

<h1>The core issue</h1>

<p>The JavaScript concurrency model in the browser and on the server with NodeJS/io.js is <em>asynchronous</em> and <em>reactive</em>.</p>

<p>Whenever you call a method that returns a promise, the <code>then</code> handlers are <em>always</em> executed asynchronously - that is, <strong>after</strong> the code below them that is not in a <code>.then</code> handler.</p>

<p>This means when you're returning <code>data</code> the <code>then</code> handler you've defined did not execute yet. This in turn means that the value you're returning has not been set to the correct value in time. </p>

<p>Here is a simple analogy for the issue:
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>    function getFive(){
        var data;
        setTimeout(function(){ // set a timer for one second in the future
           data = 5; // after a second, do this
        }, 1000);
        return data;
    }
    document.body.innerHTML = getFive(); // `undefined` here and not 5</code></pre>
</div>
</div>
</p>

<p>The value of <code>data</code> is <code>undefined</code> since the <code>data = 5</code> part has not executed yet. It will likely execute in a second but by that time it is irrelevant to the returned value.</p>

<p>Since the operation did not happen yet (AJAX, server call, IO, timer) you're returning the value before the request got the chance to tell your code what that value is.</p>

<p>One possible solution to this problem is to code <em>re-actively</em> , telling your program what to do when the calculation completed. Promises actively enable this by being temporal (time-sensitive) in nature.</p>

<h1>Quick recap on promises</h1>

<p>A Promise is a <em>value over time</em>. Promises have state, they start as pending with no value and can settle to:</p>

<ul>
<li><strong>fulfilled</strong> meaning that the computation completed successfully.</li>
<li><strong>rejected</strong> meaning that the computation failed.</li>
</ul>

<p>A promise can only change states <em>once</em> after which it will always stay at the same state forever. You can attach <code>then</code> handlers to promises to extract their value and handle errors. <code>then</code> handlers allow <a href="https://stackoverflow.com/questions/22539815/arent-promises-just-callbacks">chaining</a> of calls. Promises are created by <a href="https://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises">using APIs that return them</a>. For example, the more modern AJAX replacement <code>fetch</code> or jQuery's <code>$.get</code> return promises.</p>

<p>When we call <code>.then</code> on a promise and <em>return</em> something from it - we get a promise for <em>the processed value</em>. If we return another promise we'll get amazing things, but let's hold our horses.</p>

<h1>With promises</h1>

<p>Let's see how we can solve the above issue with promises. First, let's demonstrate our understanding of promise states from above by using the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Promise" rel="noreferrer">Promise constructor</a> for creating a delay function:</p>

<pre><code>function delay(ms){ // takes amount of milliseconds
    // returns a new promise
    return new Promise(function(resolve, reject){
        setTimeout(function(){ // when the time is up
            resolve(); // change the promise to the fulfilled state
        }, ms);
    });
}
</code></pre>

<p>Now, after we converted setTimeout to use promises, we can use <code>then</code> to make it count:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function delay(ms){ // takes amount of milliseconds
  // returns a new promise
  return new Promise(function(resolve, reject){
    setTimeout(function(){ // when the time is up
      resolve(); // change the promise to the fulfilled state
    }, ms);
  });
}

function getFive(){
  // we're RETURNING the promise, remember, a promise is a wrapper over our value
  return delay(100).then(function(){ // when the promise is ready
      return 5; // return the value 5, promises are all about return values
  })
}
// we _have_ to wrap it like this in the call site, we can't access the plain value
getFive().then(function(five){ 
   document.body.innerHTML = five;
});</code></pre>
</div>
</div>
</p>

<p>Basically, instead of returning a <em>value</em> which we can't do because of the concurrency model - we're returning a <em>wrapper</em> for a value that we can <em>unwrap</em> with <code>then</code>. It's like a box you can open with <code>then</code>.</p>

<h3>Applying this</h3>

<p>This stands the same for your original API call, you can:</p>

<pre><code>function foo() {
    // RETURN the promise
    return fetch("/echo/json").then(function(response){
        return response.json(); // process it inside the `then`
    });
}

foo().then(function(response){
    // access the value inside the `then`
})
</code></pre>

<p>So this works just as well. We've learned we can't return values from already asynchronous calls but we can use promises and chain them to perform processing. We now know how to return the response from an asynchronous call.</p>

<h1>ES2015 (ES6)</h1>

<p>ES6 introduces <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*" rel="noreferrer">generators</a> which are functions that can return in the middle and then resume the point they were at. This is typically useful for sequences, for example:</p>

<pre><code>function* foo(){ // notice the star, this is ES6 so new browsers/node/io only
    yield 1;
    yield 2;
    while(true) yield 3;
}
</code></pre>

<p>Is a function that returns an <em>iterator</em> over the sequence <code>1,2,3,3,3,3,....</code> which can be iterated. While this is interesting on its own and opens room for a lot of possibility there is one particular interesting case.</p>

<p>If the sequence we're producing is a sequence of actions rather than numbers - we can pause the function whenever an action is yielded and wait for it before we resume the function. So instead of a sequence of numbers, we need a sequence of <em>future</em> values - that is: promises.</p>

<p>This somewhat tricky but very powerful trick lets us write asynchronous code in a synchronous manner. There are several "runners" that do this for you, writing one is a short few lines of code but is beyond the scope of this answer. I'll be using Bluebird's <code>Promise.coroutine</code> here, but there are other wrappers like <code>co</code> or <code>Q.async</code>. </p>

<pre><code>var foo = coroutine(function*(){
    var data = yield fetch("/echo/json"); // notice the yield
    // code here only executes _after_ the request is done
    return data.json(); // data is defined
});
</code></pre>

<p>This method returns a promise itself, which we can consume from other coroutines. For example:</p>

<pre><code>var main = coroutine(function*(){
   var bar = yield foo(); // wait our earlier coroutine, it returns a promise
   // server call done here, code below executes when done
   var baz = yield fetch("/api/users/"+bar.userid); // depends on foo's result
   console.log(baz); // runs after both requests done
});
main();
</code></pre>

<h1>ES2016 (ES7)</h1>

<p>In ES7, this is further standardized, there are several proposals right now but in all of them you can <code>await</code> promise. This is just "sugar" (nicer syntax) for the ES6 proposal above by adding the <code>async</code> and <code>await</code> keywords. Making the above example:</p>

<pre><code>async function foo(){
    var data = await fetch("/echo/json"); // notice the await
    // code here only executes _after_ the request is done
    return data.json(); // data is defined
}
</code></pre>

<p>It still returns a promise just the same :)</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/30180679/3093468" title="short permalink to this answer" class="short-link" id="link-post-30180679">share</a><span class="lsep">|</span><a href="/posts/30180679/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="30180679">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/30180679/revisions" title="show all edits to this post">edited <span title="2017-05-23 12:34:51Z" class="relativetime">May 23 '17 at 12:34</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/-1/community"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">&#9830;</span>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2015-05-12 02:22:57Z" class="relativetime">May 12 '15 at 2:22</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1348195/benjamin-gruenbaum"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1348195/benjamin-gruenbaum">Benjamin Gruenbaum</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 180,561" dir="ltr">181k</span><span title="61 gold badges"><span class="badge1"></span><span class="badgecount">61</span></span><span title="392 silver badges"><span class="badge2"></span><span class="badgecount">392</span></span><span title="433 bronze badges"><span class="badge3"></span><span class="badgecount">433</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-30180679" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-48498843" class="comment js-comment " data-comment-id="48498843">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="hot">17</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">ES 2016 looks like the final solution to this problem once and for all.</span>
                    &ndash;&nbsp;<a href="/users/855760/shrekoverflow"
                       title="4,881 reputation"
                       class="comment-user">ShrekOverflow</a>
                <span class="comment-date" dir="ltr"><span title="2015-05-12 16:42:03Z" class="relativetime-clean">May 12 '15 at 16:42</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-48518693" class="comment js-comment " data-comment-id="48518693">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">10</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">The absolutely final solution, for once and for all? What about the totally absolutely final solution, for once and for all plus one?</span>
                    &ndash;&nbsp;<a href="/users/1585400/shmiddty"
                       title="12,030 reputation"
                       class="comment-user">Shmiddty</a>
                <span class="comment-date" dir="ltr"><span title="2015-05-13 06:11:49Z" class="relativetime-clean">May 13 '15 at 6:11</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-70700323" class="comment js-comment " data-comment-id="70700323">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">3</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@recurf first of all &quot;where the hell&quot; is hardly appropriate for this site (kids are using it too, for one). Second of all - it&#39;s a function parameter, I could have named it anywhere else and it would work just as fine.</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2017-01-20 00:08:03Z" class="relativetime-clean">Jan 20 '17 at 0:08</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-30180679" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-30180679" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="23819901"></a>
<div id="answer-23819901" class="answer" data-answerid="23819901"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="23819901">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">199</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>You are using Ajax incorrectly. The idea is not to have it return anything, but instead hand off the data to something called a callback function, which handles the data.</p>

<p>That is:</p>

<pre><code>function handleData( responseData ) {

    // Do what you want with the data
    console.log(responseData);
}

$.ajax({
    url: "hi.php",
    ...
    success: function ( data, status, XHR ) {
        handleData(data);
    }
});
</code></pre>

<p>Returning anything in the submit handler will not do anything. You must instead either hand off the data, or do what you want with it directly inside the success function.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/23819901/3093468" title="short permalink to this answer" class="short-link" id="link-post-23819901">share</a><span class="lsep">|</span><a href="/posts/23819901/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="23819901">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/23819901/revisions" title="show all edits to this post">edited <span title="2015-11-21 14:07:03Z" class="relativetime">Nov 21 '15 at 14:07</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/63550/peter-mortensen"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/RIZKi.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/63550/peter-mortensen">Peter Mortensen</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 13,056" dir="ltr">13.1k</span><span title="19 gold badges"><span class="badge1"></span><span class="badgecount">19</span></span><span title="83 silver badges"><span class="badge2"></span><span class="badgecount">83</span></span><span title="111 bronze badges"><span class="badge3"></span><span class="badgecount">111</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2014-05-23 02:05:01Z" class="relativetime">May 23 '14 at 2:05</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2802187/nic"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/c85a76cd9f3922d2eee4499552c87212?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2802187/nic">Nic</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,908</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="11 bronze badges"><span class="badge3"></span><span class="badgecount">11</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-23819901" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-56934887" class="comment js-comment " data-comment-id="56934887">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">8</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">This answer is completely semantic... your success method is just a callback within a callback. You could just have <code>success: handleData</code> and it would work.</span>
                    &ndash;&nbsp;<a href="/users/2518398/jacques"
                       title="2,212 reputation"
                       class="comment-user">Jacques</a>
                <span class="comment-date" dir="ltr"><span title="2016-01-04 15:49:49Z" class="relativetime-clean">Jan 4 '16 at 15:49</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-58710097" class="comment js-comment " data-comment-id="58710097">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">3</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">And what if you want to return the &quot;responseData&quot; outside of &quot;handleData&quot; ... :) ... how will you do it ... ? ... cause a simple return will return it to the &quot;success&quot; callback of the ajax ... and not outside of &quot;handleData&quot; ...</span>
                    &ndash;&nbsp;<a href="/users/813000/pesho-hristov"
                       title="596 reputation"
                       class="comment-user">pesho hristov</a>
                <span class="comment-date" dir="ltr"><span title="2016-02-19 16:02:18Z" class="relativetime-clean">Feb 19 '16 at 16:02</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-23819901" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-23819901" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="21862907"></a>
<div id="answer-21862907" class="answer" data-answerid="21862907"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="21862907">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">190</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>The simplest solution is create a JavaScript function and call it for the Ajax <code>success</code> callback.</p>

<pre><code>function callServerAsync(){
    $.ajax({
        url: '...',
        success: function(response) {

            successCallback(response);
        }
    });
}

function successCallback(responseObj){
    // Do something like read the response and show data
    alert(JSON.stringify(responseObj)); // Only applicable to JSON response
}

function foo(callback) {

    $.ajax({
        url: '...',
        success: function(response) {
           return callback(null, response);
        }
    });
}

var result = foo(function(err, result){
          if (!err)
           console.log(result);    
}); 
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/21862907/3093468" title="short permalink to this answer" class="short-link" id="link-post-21862907">share</a><span class="lsep">|</span><a href="/posts/21862907/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="21862907">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/21862907/revisions" title="show all edits to this post">edited <span title="2017-01-15 06:17:51Z" class="relativetime">Jan 15 '17 at 6:17</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2079103/clearlight"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/XlVYy.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2079103/clearlight">clearlight</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">8,369</span><span title="9 gold badges"><span class="badge1"></span><span class="badgecount">9</span></span><span title="38 silver badges"><span class="badge2"></span><span class="badgecount">38</span></span><span title="58 bronze badges"><span class="badge3"></span><span class="badgecount">58</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2014-02-18 18:58:37Z" class="relativetime">Feb 18 '14 at 18:58</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1560518/hemant-bavle"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/6923bf7b90847f2df406fb5f7a29e500?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1560518/hemant-bavle">Hemant Bavle</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,291</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="16 silver badges"><span class="badge2"></span><span class="badgecount">16</span></span><span title="23 bronze badges"><span class="badge3"></span><span class="badgecount">23</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-21862907" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="1"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-34624418" class="comment js-comment " data-comment-id="34624418">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">2</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">I don&#39;t know who voted it negative. But this is a work around which has worked in fact i used this approach to create a whole application.  The jquery.ajax don&#39;t return data so its better to use the above approach. If it&#39;s wrong then please explain and suggest better way to do it.</span>
                    &ndash;&nbsp;<a href="/users/1560518/hemant-bavle"
                       title="2,291 reputation"
                       class="comment-user">Hemant Bavle</a>
                <span class="comment-date" dir="ltr"><span title="2014-03-28 18:12:35Z" class="relativetime-clean">Mar 28 '14 at 18:12</span></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-35098314" class="comment js-comment " data-comment-id="35098314">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">11</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Sorry, I forgot to leave a comment (I usually do!). I downvoted it. Downvotes don&#39;t indicate factual correctness or lack of, they indicate usefulness in the context or lack of. I don&#39;t find your answer useful given Felix&#39;s which already explains this only in much more detail. On a side note, why would you stringify the response if it&#39;s JSON?</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2014-04-10 09:18:07Z" class="relativetime-clean">Apr 10 '14 at 9:18</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-35101095" class="comment js-comment " data-comment-id="35101095">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">5</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">ok.. @Benjamin i used stringify, to convert a JSON Object to string. And thanks for clarifying your point. Will keep in mind to post more elaborate answers.</span>
                    &ndash;&nbsp;<a href="/users/1560518/hemant-bavle"
                       title="2,291 reputation"
                       class="comment-user">Hemant Bavle</a>
                <span class="comment-date" dir="ltr"><span title="2014-04-10 10:27:10Z" class="relativetime-clean">Apr 10 '14 at 10:27</span></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-21862907" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-21862907" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="38898933"></a>
<div id="answer-38898933" class="answer" data-answerid="38898933"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="38898933">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">161</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>I will answer with a horrible-looking, hand-drawn comic. The second image is the reason why <code>result</code> is <code>undefined</code> in your code example.</p>

<p><a href="https://i.imgur.com/v5ksbBC.jpg"><img src="https://i.imgur.com/v5ksbBC.jpg" alt="enter image description here"></a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/38898933/3093468" title="short permalink to this answer" class="short-link" id="link-post-38898933">share</a><span class="lsep">|</span><a href="/posts/38898933/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="38898933">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/38898933/revisions" title="show all edits to this post">edited <span title="2016-08-11 17:12:24Z" class="relativetime">Aug 11 '16 at 17:12</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2016-08-11 14:17:36Z" class="relativetime">Aug 11 '16 at 14:17</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/171933/johannes-fahrenkrug"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/b0c68cd8ea105ef0e8fbe8f7e0fdbf5e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/171933/johannes-fahrenkrug">Johannes Fahrenkrug</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 30,321" dir="ltr">30.3k</span><span title="14 gold badges"><span class="badge1"></span><span class="badgecount">14</span></span><span title="95 silver badges"><span class="badge2"></span><span class="badgecount">95</span></span><span title="140 bronze badges"><span class="badge3"></span><span class="badgecount">140</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-38898933" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-67949790" class="comment js-comment " data-comment-id="67949790">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="hot">21</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy"><b>A picture is worth a thousand words</b>,   <b>Person A</b> - Ask&#39;s person B  details to fix his car, in turn <b>Person B</b> - Makes Ajax Call and waits for response from server for car fixing details, when response is received, Ajax Success function  calls the Person B function and passes the response as argument to it, Person A receives the answer.</span>
                    &ndash;&nbsp;<a href="/users/2218697/stom"
                       title="2,422 reputation"
                       class="comment-user">stom</a>
                <span class="comment-date" dir="ltr"><span title="2016-10-31 17:48:09Z" class="relativetime-clean">Oct 31 '16 at 17:48</span></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-84225766" class="comment js-comment " data-comment-id="84225766">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Would be great if you added lines of code with each image to illustrate the concepts.</span>
                    &ndash;&nbsp;<a href="/users/4936905/hassan-baig"
                       title="3,890 reputation"
                       class="comment-user">Hassan Baig</a>
                <span class="comment-date" dir="ltr"><span title="2018-02-05 00:32:58Z" class="relativetime-clean">Feb 5 at 0:32</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-86186886" class="comment js-comment " data-comment-id="86186886">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">5</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">The best explanation I&#39;ve ever come across</span>
                    &ndash;&nbsp;<a href="/users/8027365/anonymous"
                       title="492 reputation"
                       class="comment-user">anonymous</a>
                <span class="comment-date" dir="ltr"><span title="2018-03-31 15:52:07Z" class="relativetime-clean">Mar 31 at 15:52</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-90915062" class="comment js-comment " data-comment-id="90915062">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">1</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Best Explanation</span>
                    &ndash;&nbsp;<a href="/users/7204125/vijay-s"
                       title="206 reputation"
                       class="comment-user">Vijay S</a>
                <span class="comment-date" dir="ltr"><span title="2018-08-23 09:42:13Z" class="relativetime-clean">Aug 23 at 9:42</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-38898933" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-38898933" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="25501002"></a>
<div id="answer-25501002" class="answer" data-answerid="25501002"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="25501002">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">118</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Angular1</h2>

<p>For people who are using <a href="http://en.wikipedia.org/wiki/AngularJS" rel="noreferrer">AngularJS</a>, can handle this situation using <code>Promises</code>.</p>

<p><a href="http://liamkaufman.com/blog/2013/09/09/using-angularjs-promises/" rel="noreferrer">Here</a> it says,</p>

<blockquote>
  <p>Promises can be used to unnest asynchronous functions and allows one to chain multiple functions together.</p>
</blockquote>

<p>You can find a nice explanation <a href="http://andyshora.com/promises-angularjs-explained-as-cartoon.html" rel="noreferrer">here</a> also.</p>

<p>Example found in <a href="https://docs.angularjs.org/api/ng/service/$q" rel="noreferrer">docs</a> mentioned below.</p>

<pre><code>  promiseB = promiseA.then(
    function onSuccess(result) {
      return result + 1;
    }
    ,function onError(err) {
      //Handle error
    }
  );

 // promiseB will be resolved immediately after promiseA is resolved 
 // and its value will be the result of promiseA incremented by 1.
</code></pre>

<h2>Angular2 and Later</h2>

<p>In <code>Angular2</code> with look at the following example, but its <a href="https://angular-2-training-book.rangle.io/handout/observables/observables_vs_promises.html" rel="noreferrer">recommended</a> to use <code>Observables</code> with <code>Angular2</code>.</p>

<pre><code> search(term: string) {
     return this.http
  .get(`https://api.spotify.com/v1/search?q=${term}&amp;type=artist`)
  .map((response) =&gt; response.json())
  .toPromise();
</code></pre>

<p>}</p>

<p>You can consume that in this way,</p>

<pre><code>search() {
    this.searchService.search(this.searchField.value)
      .then((result) =&gt; {
    this.result = result.artists.items;
  })
  .catch((error) =&gt; console.error(error));
}
</code></pre>

<p>See the <a href="https://angular-2-training-book.rangle.io/handout/http/requests_as_promises.html" rel="noreferrer">original</a> post here. But Typescript does not support <a href="http://www.datchley.name/es6-promises/" rel="noreferrer">native es6 Promises</a>, if you want to use it, you might need plugin for that.</p>

<p>Additionally here is the promises <a href="https://github.com/promises-aplus/promises-spec" rel="noreferrer">spec</a> define here.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/25501002/3093468" title="short permalink to this answer" class="short-link" id="link-post-25501002">share</a><span class="lsep">|</span><a href="/posts/25501002/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="25501002">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/25501002/revisions" title="show all edits to this post">edited <span title="2017-07-06 04:45:28Z" class="relativetime">Jul 6 '17 at 4:45</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2014-08-26 08:11:36Z" class="relativetime">Aug 26 '14 at 8:11</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/814025/maleen-abewardana"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/XXCZs.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/814025/maleen-abewardana">Maleen Abewardana</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">5,813</span><span title="3 gold badges"><span class="badge1"></span><span class="badgecount">3</span></span><span title="26 silver badges"><span class="badge2"></span><span class="badgecount">26</span></span><span title="32 bronze badges"><span class="badge3"></span><span class="badgecount">32</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-25501002" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-42042407" class="comment js-comment " data-comment-id="42042407">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">13</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">This does not explain how promises would solve this issue at all though.</span>
                    &ndash;&nbsp;<a href="/users/1348195/benjamin-gruenbaum"
                       title="180,561 reputation"
                       class="comment-user">Benjamin Gruenbaum</a>
                <span class="comment-date" dir="ltr"><span title="2014-11-04 02:29:10Z" class="relativetime-clean">Nov 4 '14 at 2:29</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-42643473" class="comment js-comment " data-comment-id="42643473">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">It doesn&#39;t work. promiseB will get &#39;undefined&#39;</span>
                    &ndash;&nbsp;<a href="/users/3210844/an-overflowed-stack"
                       title="154 reputation"
                       class="comment-user">An Overflowed Stack</a>
                <span class="comment-date" dir="ltr"><span title="2014-11-21 15:35:47Z" class="relativetime-clean">Nov 21 '14 at 15:35</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-45533254" class="comment js-comment " data-comment-id="45533254">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">3</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">jQuery and <a href="https://github.com/github/fetch" rel="nofollow noreferrer">fetch</a> methods both return promises as well.  I would suggest revising your answer.  Though jQuery&#39;s isn&#39;t quite the same (then is there, but catch isn&#39;t).</span>
                    &ndash;&nbsp;<a href="/users/43906/tracker1"
                       title="13,717 reputation"
                       class="comment-user">Tracker1</a>
                <span class="comment-date" dir="ltr"><span title="2015-02-19 19:24:49Z" class="relativetime-clean">Feb 19 '15 at 19:24</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-25501002" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-25501002" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="43766002"></a>
<div id="answer-43766002" class="answer" data-answerid="43766002"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="43766002">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">94</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Most of the answers here give useful suggestions for when you have a single async operation, but sometimes, this comes up when you need to do an asynchronous operation for <em>each</em> entry in an array or other list-like structure. The temptation is to do this:</p>

<pre><code>// WRONG
var results = [];
theArray.forEach(function(entry) {
    doSomethingAsync(entry, function(result) {
        results.push(result);
    });
});
console.log(results); // E.g., using them, returning them, etc.
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>// WRONG
var theArray = [1, 2, 3];
var results = [];
theArray.forEach(function(entry) {
    doSomethingAsync(entry, function(result) {
        results.push(result);
    });
});
console.log("Results:", results); // E.g., using them, returning them, etc.

function doSomethingAsync(value, callback) {
    console.log("Starting async operation for " + value);
    setTimeout(function() {
        console.log("Completing async operation for " + value);
        callback(value * 2);
    }, Math.floor(Math.random() * 200));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p>The reason that doesn't work is that the callbacks from <code>doSomethingAsync</code> haven't run yet by the time you're trying to use the results.</p>

<p>So, if you have an array (or list of some kind) and want to do async operations for each entry, you have two options: Do the operations in parallel (overlapping), or in series (one after another in sequence).</p>

<h3>Parallel</h3>

<p>You can start all of them and keep track of how many callbacks you're expecting, and then use the results when you've gotten that many callbacks:</p>

<pre><code>var results = [];
var expecting = theArray.length;
theArray.forEach(function(entry, index) {
    doSomethingAsync(entry, function(result) {
        results[index] = result;
        if (--expecting === 0) {
            // Done!
            console.log("Results:", results); // E.g., using the results
        }
    });
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var theArray = [1, 2, 3];
var results = [];
var expecting = theArray.length;
theArray.forEach(function(entry, index) {
    doSomethingAsync(entry, function(result) {
        results[index] = result;
        if (--expecting === 0) {
            // Done!
            console.log("Results:", results); // E.g., using the results
        }
    });
});

function doSomethingAsync(value, callback) {
    console.log("Starting async operation for " + value);
    setTimeout(function() {
        console.log("Completing async operation for " + value);
        callback(value * 2);
    }, Math.floor(Math.random() * 200));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p><em>(We could do away with <code>expecting</code> and just use <code>results.length === theArray.length</code>, but that leaves us open to the possibility that <code>theArray</code> is changed while the calls are outstanding...)</em></p>

<p>Notice how we use the <code>index</code> from <code>forEach</code> to save the result in <code>results</code> in the same position as the entry it relates to, even if the results arrive out of order (since async calls don't necessarily complete in the order in which they were started).</p>

<p>But what if you need to <em>return</em> those results from a function? As the other answers have pointed out, you can't; you have to have your function accept and call a callback (or return a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">Promise</a>). Here's a callback version:</p>

<pre><code>function doSomethingWith(theArray, callback) {
    var results = [];
    var expecting = theArray.length;
    theArray.forEach(function(entry, index) {
        doSomethingAsync(entry, function(result) {
            results[index] = result;
            if (--expecting === 0) {
                // Done!
                callback(results);
            }
        });
    });
}
doSomethingWith(theArray, function(results) {
    console.log("Results:", results);
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray, callback) {
    var results = [];
    var expecting = theArray.length;
    theArray.forEach(function(entry, index) {
        doSomethingAsync(entry, function(result) {
            results[index] = result;
            if (--expecting === 0) {
                // Done!
                callback(results);
            }
        });
    });
}
doSomethingWith([1, 2, 3], function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value, callback) {
    console.log("Starting async operation for " + value);
    setTimeout(function() {
        console.log("Completing async operation for " + value);
        callback(value * 2);
    }, Math.floor(Math.random() * 200));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p>Or here's a version returning a <code>Promise</code> instead:</p>

<pre><code>function doSomethingWith(theArray) {
    return new Promise(function(resolve) {
        var results = [];
        var expecting = theArray.length;
        theArray.forEach(function(entry, index) {
            doSomethingAsync(entry, function(result) {
                results[index] = result;
                if (--expecting === 0) {
                    // Done!
                    resolve(results);
                }
            });
        });
    });
}
doSomethingWith(theArray).then(function(results) {
    console.log("Results:", results);
});
</code></pre>

<p><em>Of course, if <code>doSomethingAsync</code> passed us errors, we'd use <code>reject</code> to reject the promise when we got an error.)</em></p>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray) {
    return new Promise(function(resolve) {
        var results = [];
        var expecting = theArray.length;
        theArray.forEach(function(entry, index) {
            doSomethingAsync(entry, function(result) {
                results[index] = result;
                if (--expecting === 0) {
                    // Done!
                    resolve(results);
                }
            });
        });
    });
}
doSomethingWith([1, 2, 3]).then(function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value, callback) {
    console.log("Starting async operation for " + value);
    setTimeout(function() {
        console.log("Completing async operation for " + value);
        callback(value * 2);
    }, Math.floor(Math.random() * 200));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p><em>(Or alternately, you could make a wrapper for <code>doSomethingAsync</code> that returns a promise, and then do the below...)</em></p>

<p>If <code>doSomethingAsync</code> gives you a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">Promise</a>, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" rel="noreferrer"><code>Promise.all</code></a>:</p>

<pre><code>function doSomethingWith(theArray) {
    return Promise.all(theArray.map(function(entry) {
        return doSomethingAsync(entry, function(result) {
            results.push(result);
        });
    }));
}
doSomethingWith(theArray).then(function(results) {
    console.log("Results:", results);
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray) {
    return Promise.all(theArray.map(function(entry) {
        return doSomethingAsync(entry, function(result) {
            results.push(result);
        });
    }));
}
doSomethingWith([1, 2, 3]).then(function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value) {
    console.log("Starting async operation for " + value);
    return new Promise(function(resolve) {
        setTimeout(function() {
            console.log("Completing async operation for " + value);
            resolve(value * 2);
        }, Math.floor(Math.random() * 200));
    });
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p>Note that <code>Promise.all</code> resolves its promise with an array of the results of all of the promises you give it when they are all resolved, or rejects its promise when the <em>first</em> of the promises you give it rejects.</p>

<h3>Series</h3>

<p>Suppose you don't want the operations to be in parallel? If you want to run them one after another, you need to wait for each operation to complete before you start the next. Here's an example of a function that does that and calls a callback with the result:</p>

<pre><code>function doSomethingWith(theArray, callback) {
    var results = [];
    doOne(0);
    function doOne(index) {
        if (index &lt; theArray.length) {
            doSomethingAsync(theArray[index], function(result) {
                results.push(result);
                doOne(index + 1);
            });
        } else {
            // Done!
            callback(results);
        }
    }
}
doSomethingWith(theArray, function(results) {
    console.log("Results:", results);
});
</code></pre>

<p><em>(Since we're doing the work in series, we can just use <code>results.push(result)</code> since we know we won't get results out of order. In the above we could have used <code>results[index] = result;</code>, but in some of the following examples we don't have an index to use.)</em></p>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray, callback) {
    var results = [];
    doOne(0);
    function doOne(index) {
        if (index &lt; theArray.length) {
            doSomethingAsync(theArray[index], function(result) {
                results.push(result);
                doOne(index + 1);
            });
        } else {
            // Done!
            callback(results);
        }
    }
}
doSomethingWith([1, 2, 3], function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value, callback) {
    console.log("Starting async operation for " + value);
    setTimeout(function() {
        console.log("Completing async operation for " + value);
        callback(value * 2);
    }, Math.floor(Math.random() * 200));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p><em>(Or, again, build a wrapper for <code>doSomethingAsync</code> that gives you a promise and do the below...)</em></p>

<p>If <code>doSomethingAsync</code> gives you a Promise, if you can use ES2017+ syntax (perhaps with a transpiler like <a href="http://babeljs.io" rel="noreferrer">Babel</a>), you can use an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noreferrer"><code>async</code> function</a> with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="noreferrer"><code>for-of</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="noreferrer"><code>await</code></a>:</p>

<pre><code>async function doSomethingWith(theArray) {
    const results = [];
    for (const entry of theArray) {
        results.push(await doSomethingAsync(entry));
    }
    return results;
}
doSomethingWith(theArray).then(results =&gt; {
    console.log("Results:", results);
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>async function doSomethingWith(theArray) {
    const results = [];
    for (const entry of theArray) {
        results.push(await doSomethingAsync(entry));
    }
    return results;
}
doSomethingWith([1, 2, 3]).then(function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value) {
    console.log("Starting async operation for " + value);
    return new Promise(function(resolve) {
        setTimeout(function() {
            console.log("Completing async operation for " + value);
            resolve(value * 2);
        }, Math.floor(Math.random() * 200));
    });
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p>If you can't use ES2017+ syntax (yet), you can use a variation on the <a href="https://stackoverflow.com/questions/43433643/javascript-how-do-i-reduce-multiple-promise-all">"Promise reduce" pattern</a> (this is more complex than the usual Promise reduce because we're not passing the result from one into the next, but instead gathering up their results in an array):</p>

<pre><code>function doSomethingWith(theArray) {
    return theArray.reduce(function(p, entry) {
        return p.then(function(results) {
            return doSomethingAsync(entry).then(function(result) {
                results.push(result);
                return results;
            });
        });
    }, Promise.resolve([]));
}
doSomethingWith(theArray).then(function(results) {
    console.log("Results:", results);
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray) {
    return theArray.reduce(function(p, entry) {
        return p.then(function(results) {
            return doSomethingAsync(entry).then(function(result) {
                results.push(result);
                return results;
            });
        });
    }, Promise.resolve([]));
}
doSomethingWith([1, 2, 3]).then(function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value) {
    console.log("Starting async operation for " + value);
    return new Promise(function(resolve) {
        setTimeout(function() {
            console.log("Completing async operation for " + value);
            resolve(value * 2);
        }, Math.floor(Math.random() * 200));
    });
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>

<p>...which is less cumbersome with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer">ES2015+ arrow functions</a>:</p>

<pre><code>function doSomethingWith(theArray) {
    return theArray.reduce((p, entry) =&gt; p.then(results =&gt; doSomethingAsync(entry).then(result =&gt; {
        results.push(result);
        return results;
    })), Promise.resolve([]));
}
doSomethingWith(theArray).then(results =&gt; {
    console.log("Results:", results);
});
</code></pre>

<p>Example:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function doSomethingWith(theArray) {
    return theArray.reduce((p, entry) =&gt; p.then(results =&gt; doSomethingAsync(entry).then(result =&gt; {
        results.push(result);
        return results;
    })), Promise.resolve([]));
}
doSomethingWith([1, 2, 3]).then(function(results) {
    console.log("Results:", results);
});

function doSomethingAsync(value) {
    console.log("Starting async operation for " + value);
    return new Promise(function(resolve) {
        setTimeout(function() {
            console.log("Completing async operation for " + value);
            resolve(value * 2);
        }, Math.floor(Math.random() * 200));
    });
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper {
  max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/43766002/3093468" title="short permalink to this answer" class="short-link" id="link-post-43766002">share</a><span class="lsep">|</span><a href="/posts/43766002/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="43766002">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/43766002/revisions" title="show all edits to this post">edited <span title="2017-09-13 04:34:11Z" class="relativetime">Sep 13 '17 at 4:34</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/5393970/joel-gritter"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/b3f75508d00868143e54783d72d41575?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/5393970/joel-gritter">Joel Gritter</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">538</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="6 silver badges"><span class="badge2"></span><span class="badgecount">6</span></span><span title="23 bronze badges"><span class="badge3"></span><span class="badgecount">23</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2017-05-03 16:59:06Z" class="relativetime">May 3 '17 at 16:59</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/157247/t-j-crowder"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/ca3e484c121268e4c8302616b2395eb9?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/157247/t-j-crowder">T.J. Crowder</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 656,759" dir="ltr">657k</span><span title="113 gold badges"><span class="badge1"></span><span class="badgecount">113</span></span><span title="1159 silver badges"><span class="badge2"></span><span class="badgecount">1159</span></span><span title="1257 bronze badges"><span class="badge3"></span><span class="badgecount">1257</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-43766002" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="1"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-75462385" class="comment js-comment " data-comment-id="75462385">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">1</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Could you explain how the <code>if (--expecting === 0)</code> part of the code works please? The callback version of your solution is working great for me, I just don&#39;t understand how, with that statement, you are checking the number of responses completed. Appreciate it&#39;s just lack of knowledge on my part. Is there an alternative way that check could be written?</span>
                    &ndash;&nbsp;<a href="/users/1984868/sarah"
                       title="480 reputation"
                       class="comment-user">Sarah</a>
                <span class="comment-date" dir="ltr"><span title="2017-05-28 10:21:35Z" class="relativetime-clean">May 28 '17 at 10:21</span></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-43766002" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-43766002" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="37586557"></a>
<div id="answer-37586557" class="answer" data-answerid="37586557"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="37586557">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">77</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p><strong>Have a look at this example:</strong></p>

<pre><code>var app = angular.module('plunker', []);

app.controller('MainCtrl', function($scope,$http) {

    var getJoke = function(){
        return $http.get('http://api.icndb.com/jokes/random').then(function(res){
            return res.data.value;  
        });
    }

    getJoke().then(function(res) {
        console.log(res.joke);
    });
});
</code></pre>

<p>As you can see <code>getJoke</code> is <strong>returning a</strong> resolved <strong>promise</strong> (it is resolved when returning <code>res.data.value</code>). So you wait until the <strong>$http.get</strong> request is completed and then <strong>console.log(res.joke)</strong> is executed (as a normal asynchronous flow).</p>

<p><strong>This is the plnkr:</strong></p>

<p><a href="http://embed.plnkr.co/XlNR7HpCaIhJxskMJfSg/" rel="noreferrer">http://embed.plnkr.co/XlNR7HpCaIhJxskMJfSg/</a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/37586557/3093468" title="short permalink to this answer" class="short-link" id="link-post-37586557">share</a><span class="lsep">|</span><a href="/posts/37586557/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="37586557">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/37586557/revisions" title="show all edits to this post">edited <span title="2017-01-13 03:55:15Z" class="relativetime">Jan 13 '17 at 3:55</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3756181/super-user"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/ROXCV.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3756181/super-user">Super User</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">7,085</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="16 silver badges"><span class="badge2"></span><span class="badgecount">16</span></span><span title="37 bronze badges"><span class="badge3"></span><span class="badgecount">37</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2016-06-02 08:31:13Z" class="relativetime">Jun 2 '16 at 8:31</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/6382034/fran-carmona"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/0b6facd6b8b3485634fbf33520376e29?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/6382034/fran-carmona">Fran Carmona</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,136</span><span title="4 silver badges"><span class="badge2"></span><span class="badgecount">4</span></span><span title="8 bronze badges"><span class="badge3"></span><span class="badgecount">8</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-37586557" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="1"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-37586557" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-37586557" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="32353763"></a>
<div id="answer-32353763" class="answer" data-answerid="32353763"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="32353763">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">71</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Another approach to return a value from an asynchronous function, is to pass in an object that will store the result from the asynchronous function.</p>

<p>Here is an example of the same:</p>

<pre><code>var async = require("async");

// This wires up result back to the caller
var result = {};
var asyncTasks = [];
asyncTasks.push(function(_callback){
    // some asynchronous operation
    $.ajax({
        url: '...',
        success: function(response) {
            result.response = response;
            _callback();
        }
    });
});

async.parallel(asyncTasks, function(){
    // result is available after performing asynchronous operation
    console.log(result)
    console.log('Done');
});
</code></pre>

<p>I am using the <code>result</code> object to store the value during the asynchronous operation. This allows the result be available even after the asynchronous job.</p>

<p>I use this approach a lot. I would be interested to know how well this approach works where wiring the result back through consecutive modules is involved.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/32353763/3093468" title="short permalink to this answer" class="short-link" id="link-post-32353763">share</a><span class="lsep">|</span><a href="/posts/32353763/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="32353763">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/32353763/revisions" title="show all edits to this post">edited <span title="2016-12-17 12:55:25Z" class="relativetime">Dec 17 '16 at 12:55</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/63550/peter-mortensen"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/RIZKi.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/63550/peter-mortensen">Peter Mortensen</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 13,056" dir="ltr">13.1k</span><span title="19 gold badges"><span class="badge1"></span><span class="badgecount">19</span></span><span title="83 silver badges"><span class="badge2"></span><span class="badgecount">83</span></span><span title="111 bronze badges"><span class="badge3"></span><span class="badgecount">111</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2015-09-02 12:54:37Z" class="relativetime">Sep 2 '15 at 12:54</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/507136/jsbisht"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/Vr6VT.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/507136/jsbisht">jsbisht</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">3,602</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="30 silver badges"><span class="badge2"></span><span class="badgecount">30</span></span><span title="40 bronze badges"><span class="badge3"></span><span class="badgecount">40</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-32353763" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-52581568" class="comment js-comment " data-comment-id="52581568">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">9</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">There is nothing special about using an object here. It would work as well if you assigned he response directly to <code>result</code>. It works because you are reading the variable <i>after</i> the async function is complete.</span>
                    &ndash;&nbsp;<a href="/users/218196/felix-kling"
                       title="528,803 reputation"
                       class="comment-user owner">Felix Kling</a>
                <span class="comment-date" dir="ltr"><span title="2015-09-02 13:18:11Z" class="relativetime-clean">Sep 2 '15 at 13:18</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-32353763" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-32353763" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="44154594"></a>
<div id="answer-44154594" class="answer" data-answerid="44154594"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="44154594">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">64</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>This is one of the places which <strong>two ways data binding</strong> that's used in many new JavaScript frameworks will work greatly for you...</p>

<p>So if you are using <strong>Angular, React</strong> or any other frameworks which do <strong>two ways data binding,</strong> this issue is simply fixed for you, so in easy word, your result is <code>undefined</code> at the first stage, so you have got <code>result = undefined</code> before you receive the data, then as soon as you get the result, it will updated and get assigned to the new value which is respond of your Ajax call...</p>

<p>But how you can do it in pure <strong>javascript</strong> or <strong>jQuery</strong> for example as you asked in this question?</p>

<p>You can use a <strong>callback</strong>, <strong>promise</strong> and recently <strong>observable</strong> to handle it for you, for example in promises we have some function like success() or then() which will be executed when your data is ready for you, same with callback or <strong>subscribe</strong> function on <strong>observable</strong>.</p>

<p>For example in your case which you are using <strong>jQuery</strong>, you can do something like this:</p>

<pre><code>$(document).ready(function(){
    function foo() {
        $.ajax({url: "api/data", success: function(data){
            fooDone(data); //after we have data, we pass it to fooDone
        }});
    };

    function fooDone(data) {
        console.log(data); //fooDone has the data and console.log it
    };

    foo(); //call happens here
});
</code></pre>

<p>For more information study about <strong>promises</strong> and <strong>observables</strong> which are newer ways to do this async stuffs.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/44154594/3093468" title="short permalink to this answer" class="short-link" id="link-post-44154594">share</a><span class="lsep">|</span><a href="/posts/44154594/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="44154594">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/44154594/revisions" title="show all edits to this post">edited <span title="2018-05-25 13:46:01Z" class="relativetime">May 25 at 13:46</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2017-05-24 09:38:10Z" class="relativetime">May 24 '17 at 9:38</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/5423108/alireza"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/WtfBG.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/5423108/alireza">Alireza</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 40,092" dir="ltr">40.1k</span><span title="11 gold badges"><span class="badge1"></span><span class="badgecount">11</span></span><span title="153 silver badges"><span class="badge2"></span><span class="badgecount">153</span></span><span title="114 bronze badges"><span class="badge3"></span><span class="badgecount">114</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-44154594" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-87374929" class="comment js-comment " data-comment-id="87374929">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">This is actually incorrect as React is one-way data binding</span>
                    &ndash;&nbsp;<a href="/users/4866533/matthew-brent"
                       title="754 reputation"
                       class="comment-user">Matthew Brent</a>
                <span class="comment-date" dir="ltr"><span title="2018-05-04 15:57:05Z" class="relativetime-clean">May 4 at 15:57</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-44154594" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-44154594" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="34998848"></a>
<div id="answer-34998848" class="answer" data-answerid="34998848"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="34998848">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">62</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>While promises and callbacks work fine in many situations, it is a pain in the rear to express something like:</p>

<pre><code>if (!name) {
  name = async1();
}
async2(name);
</code></pre>

<p>You'd end up going through <code>async1</code>; check if <code>name</code> is undefined or not and call the callback accordingly.</p>

<pre><code>async1(name, callback) {
  if (name)
    callback(name)
  else {
    doSomething(callback)
  }
}

async1(name, async2)
</code></pre>

<p>While it is <em>okay</em> in small examples it gets annoying when you have a lot of similar cases and error handling involved.</p>

<p><code>Fibers</code> helps in solving the issue.</p>

<pre><code>var Fiber = require('fibers')

function async1(container) {
  var current = Fiber.current
  var result
  doSomething(function(name) {
    result = name
    fiber.run()
  })
  Fiber.yield()
  return result
}

Fiber(function() {
  var name
  if (!name) {
    name = async1()
  }
  async2(name)
  // Make any number of async calls from here
}
</code></pre>

<p>You can checkout the project <a href="https://github.com/laverdet/node-fibers">here</a>.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/34998848/3093468" title="short permalink to this answer" class="short-link" id="link-post-34998848">share</a><span class="lsep">|</span><a href="/posts/34998848/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="34998848">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/34998848/revisions" title="show all edits to this post">edited <span title="2016-05-09 13:02:40Z" class="relativetime">May 9 '16 at 13:02</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2016-01-25 17:43:56Z" class="relativetime">Jan 25 '16 at 17:43</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3664835/rohithpr"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/0f662c70eccb682001fc0ae406155543?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3664835/rohithpr">rohithpr</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,383</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="21 silver badges"><span class="badge2"></span><span class="badgecount">21</span></span><span title="36 bronze badges"><span class="badge3"></span><span class="badgecount">36</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-34998848" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="4"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-34998848" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-34998848" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>4</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="36796920"></a>
<div id="answer-36796920" class="answer" data-answerid="36796920"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="36796920">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">59</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Short answer is, <strong>you have to implement a callback like this:</strong></p>

<pre><code>function callback(response) {
    // Here you can do what ever you want with the response object.
    console.log(response);
}

$.ajax({
    url: "...",
    success: callback
});
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/36796920/3093468" title="short permalink to this answer" class="short-link" id="link-post-36796920">share</a><span class="lsep">|</span><a href="/posts/36796920/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="36796920">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/36796920/revisions" title="show all edits to this post">edited <span title="2016-08-09 18:32:41Z" class="relativetime">Aug 9 '16 at 18:32</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2016-04-22 14:47:08Z" class="relativetime">Apr 22 '16 at 14:47</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3645944/pablo-matias-gomez"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/9b7f71465e5268cbb6cce5eb42a1b1fc?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3645944/pablo-matias-gomez">Pablo Matias Gomez</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">3,478</span><span title="4 gold badges"><span class="badge1"></span><span class="badgecount">4</span></span><span title="21 silver badges"><span class="badge2"></span><span class="badgecount">21</span></span><span title="55 bronze badges"><span class="badge3"></span><span class="badgecount">55</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-36796920" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-36796920" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-36796920" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="36585554"></a>
<div id="answer-36585554" class="answer" data-answerid="36585554"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="36585554">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">53</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>The following example I have written shows how to</p>

<ul>
<li>Handle asynchronous HTTP calls;</li>
<li>Wait for response from each API call;</li>
<li>Use <a href="https://en.wikipedia.org/wiki/Futures_and_promises" rel="noreferrer">Promise</a> pattern;</li>
<li>Use Promise.All pattern to join multiple HTTP calls;</li>
</ul>

<p>This working example is self-contained. It will define a simple request object that uses the window <code>XMLHttpRequest</code> object to make calls. It will define a simple function to wait for a bunch of promises to be completed.</p>

<p>Context. The example is querying the <a href="https://developer.spotify.com/web-api/endpoint-reference/" rel="noreferrer">Spotify Web API</a> endpoint in order to search for <code>playlist</code> objects for a given set of query strings:</p>

<pre><code>[
 "search?type=playlist&amp;q=%22doom%20metal%22",
 "search?type=playlist&amp;q=Adele"
]
</code></pre>

<p>For each item, a new Promise will fire a block - <code>ExecutionBlock</code>, parse the result, schedule a new set of promises based on the result array, that is a list of Spotify <code>user</code> objects and execute the new HTTP call within the <code>ExecutionProfileBlock</code> asynchronously.</p>

<p>You can then see a nested Promise structure, that lets you spawn multiple and completely asynchronous nested HTTP calls, and join the results from each subset of calls through <code>Promise.all</code>.</p>

<p><strong>NOTE</strong>
Recent Spotify <code>search</code> APIs will require an access token to be specified in the request headers:</p>

<pre><code>-H "Authorization: Bearer {your access token}" 
</code></pre>

<p>So, you to run the following example you need to put your access token in the request headers:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var spotifyAccessToken = "YourSpotifyAccessToken";
var console = {
    log: function(s) {
        document.getElementById("console").innerHTML += s + "&lt;br/&gt;"
    }
}

// Simple XMLHttpRequest
// based on https://davidwalsh.name/xmlhttprequest
SimpleRequest = {
    call: function(what, response) {
        var request;
        if (window.XMLHttpRequest) { // Mozilla, Safari, ...
            request = new XMLHttpRequest();
        } else if (window.ActiveXObject) { // Internet Explorer
            try {
                request = new ActiveXObject('Msxml2.XMLHTTP');
            }
            catch (e) {
                try {
                  request = new ActiveXObject('Microsoft.XMLHTTP');
                } catch (e) {}
            }
        }

        // State changes
        request.onreadystatechange = function() {
            if (request.readyState === 4) { // Done
                if (request.status === 200) { // Complete
                    response(request.responseText)
                }
                else
                    response();
            }
        }
        request.open('GET', what, true);
        request.setRequestHeader("Authorization", "Bearer " + spotifyAccessToken);
        request.send(null);
    }
}

//PromiseAll
var promiseAll = function(items, block, done, fail) {
    var self = this;
    var promises = [],
                   index = 0;
    items.forEach(function(item) {
        promises.push(function(item, i) {
            return new Promise(function(resolve, reject) {
                if (block) {
                    block.apply(this, [item, index, resolve, reject]);
                }
            });
        }(item, ++index))
    });
    Promise.all(promises).then(function AcceptHandler(results) {
        if (done) done(results);
    }, function ErrorHandler(error) {
        if (fail) fail(error);
    });
}; //promiseAll

// LP: deferred execution block
var ExecutionBlock = function(item, index, resolve, reject) {
    var url = "https://api.spotify.com/v1/"
    url += item;
    console.log( url )
    SimpleRequest.call(url, function(result) {
        if (result) {

            var profileUrls = JSON.parse(result).playlists.items.map(function(item, index) {
                return item.owner.href;
            })
            resolve(profileUrls);
        }
        else {
            reject(new Error("call error"));
        }
    })
}

arr = [
    "search?type=playlist&amp;q=%22doom%20metal%22",
    "search?type=playlist&amp;q=Adele"
]

promiseAll(arr, function(item, index, resolve, reject) {
    console.log("Making request [" + index + "]")
    ExecutionBlock(item, index, resolve, reject);
}, function(results) { // Aggregated results

    console.log("All profiles received " + results.length);
    //console.log(JSON.stringify(results[0], null, 2));

    ///// promiseall again

    var ExecutionProfileBlock = function(item, index, resolve, reject) {
        SimpleRequest.call(item, function(result) {
            if (result) {
                var obj = JSON.parse(result);
                resolve({
                    name: obj.display_name,
                    followers: obj.followers.total,
                    url: obj.href
                });
            } //result
        })
    } //ExecutionProfileBlock

    promiseAll(results[0], function(item, index, resolve, reject) {
        //console.log("Making request [" + index + "] " + item)
        ExecutionProfileBlock(item, index, resolve, reject);
    }, function(results) { // aggregated results
        console.log("All response received " + results.length);
        console.log(JSON.stringify(results, null, 2));
    }

    , function(error) { // Error
        console.log(error);
    })

    /////

  },
  function(error) { // Error
      console.log(error);
  });</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div id="console" /&gt;</code></pre>
</div>
</div>
</p>

<p>I have extensively discussed this solution <a href="https://stackoverflow.com/questions/36536245/how-to-search-for-a-user-by-name-using-spotify-web-api/36537774#36537774">here</a>.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/36585554/3093468" title="short permalink to this answer" class="short-link" id="link-post-36585554">share</a><span class="lsep">|</span><a href="/posts/36585554/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="36585554">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/36585554/revisions" title="show all edits to this post">edited <span title="2017-07-30 09:33:11Z" class="relativetime">Jul 30 '17 at 9:33</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2016-04-12 22:55:39Z" class="relativetime">Apr 12 '16 at 22:55</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/758836/loretoparisi"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/58f86c627aaaffa73935dd28da619e33?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/758836/loretoparisi">loretoparisi</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">7,217</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="46 silver badges"><span class="badge2"></span><span class="badgecount">46</span></span><span title="68 bronze badges"><span class="badge3"></span><span class="badgecount">68</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-36585554" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-36585554" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-36585554" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="37462229"></a>
<div id="answer-37462229" class="answer" data-answerid="37462229"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="37462229">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">48</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>You can use this custom library (written using Promise) to make a remote call.</p>

<pre><code>function $http(apiConfig) {
    return new Promise(function (resolve, reject) {
        var client = new XMLHttpRequest();
        client.open(apiConfig.method, apiConfig.url);
        client.send();
        client.onload = function () {
            if (this.status &gt;= 200 &amp;&amp; this.status &lt; 300) {
                // Performs the function "resolve" when this.status is equal to 2xx.
                // Your logic here.
                resolve(this.response);
            }
            else {
                // Performs the function "reject" when this.status is different than 2xx.
                reject(this.statusText);
            }
        };
        client.onerror = function () {
            reject(this.statusText);
        };
    });
}
</code></pre>

<p>Simple usage example:</p>

<pre><code>$http({
    method: 'get',
    url: 'google.com'
}).then(function(response) {
    console.log(response);
}, function(error) {
    console.log(error)
});
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/37462229/3093468" title="short permalink to this answer" class="short-link" id="link-post-37462229">share</a><span class="lsep">|</span><a href="/posts/37462229/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="37462229">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/37462229/revisions" title="show all edits to this post">edited <span title="2016-12-17 10:59:13Z" class="relativetime">Dec 17 '16 at 10:59</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/63550/peter-mortensen"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/RIZKi.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/63550/peter-mortensen">Peter Mortensen</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 13,056" dir="ltr">13.1k</span><span title="19 gold badges"><span class="badge1"></span><span class="badgecount">19</span></span><span title="83 silver badges"><span class="badge2"></span><span class="badgecount">83</span></span><span title="111 bronze badges"><span class="badge3"></span><span class="badgecount">111</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2016-05-26 13:26:40Z" class="relativetime">May 26 '16 at 13:26</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/4966443/vinoth-rajendran"><div class="gravatar-wrapper-32"><img src="https://lh4.googleusercontent.com/-l54b31LBCk0/AAAAAAAAAAI/AAAAAAAAAH4/Or0d4TceKL0/photo.jpg?sz=32" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/4966443/vinoth-rajendran">Vinoth Rajendran</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">682</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="21 bronze badges"><span class="badge3"></span><span class="badgecount">21</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-37462229" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-37462229" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-37462229" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="44325931"></a>
<div id="answer-44325931" class="answer" data-answerid="44325931"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="44325931">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">48</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>2017 answer: you can now do exactly what you want in every current browser and node</h1>

<p>This is quite simple:</p>

<ul>
<li>Return a Promise</li>
<li>Use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="nofollow noreferrer">'await'</a>, which will tell JavaScript to await the promise to be resolved into a value (like the HTTP response)</li>
<li>Add the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="nofollow noreferrer">'async'</a> keyword to the parent function</li>
</ul>

<p>Here's a working version of your code:</p>

<pre><code>(async function(){

var response = await superagent.get('...')
console.log(response)

})()
</code></pre>

<p><a href="http://caniuse.com/#search=await" rel="nofollow noreferrer">await is supported in all current browsers and node 8</a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/44325931/3093468" title="short permalink to this answer" class="short-link" id="link-post-44325931">share</a><span class="lsep">|</span><a href="/posts/44325931/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="44325931">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/44325931/revisions" title="show all edits to this post">edited <span title="2018-10-01 10:06:17Z" class="relativetime">Oct 1 at 10:06</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2017-06-02 09:51:10Z" class="relativetime">Jun 2 '17 at 9:51</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/123671/mikemaccana"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/23fc4556be14017796d38579dd4778ab?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/123671/mikemaccana">mikemaccana</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 39,751" dir="ltr">39.8k</span><span title="43 gold badges"><span class="badge1"></span><span class="badgecount">43</span></span><span title="222 silver badges"><span class="badge2"></span><span class="badgecount">222</span></span><span title="286 bronze badges"><span class="badge3"></span><span class="badgecount">286</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-44325931" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-75854952" class="comment js-comment " data-comment-id="75854952">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">6</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">Unfortunately, this works only with functions that return promises â€“ for example it doesn&#39;t work with Node.js API, which uses callbacks. And I wouldn&#39;t recommend using it without Babel, because not everyone uses &quot;current browsers&quot;.</span>
                    &ndash;&nbsp;<a href="/users/3853934/micha%c5%82-per%c5%82akowski"
                       title="38,614 reputation"
                       class="comment-user">MichaÅ‚ PerÅ‚akowski</a>
                <span class="comment-date" dir="ltr"><span title="2017-06-08 06:47:10Z" class="relativetime-clean">Jun 8 '17 at 6:47</span></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-75925784" class="comment js-comment " data-comment-id="75925784">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">1</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">@MichaÅ‚PerÅ‚akowski node 8 includes <a href="https://nodejs.org/api/util.html#util_util_promisify_original" rel="nofollow noreferrer">nodejs.org/api/util.html#util_util_promisify_original</a> which can be used to make the node.js API return promises. Whether you have the time and money to support non-current browsers obviously depends on your situation.</span>
                    &ndash;&nbsp;<a href="/users/123671/mikemaccana"
                       title="39,751 reputation"
                       class="comment-user">mikemaccana</a>
                <span class="comment-date" dir="ltr"><span title="2017-06-09 18:28:16Z" class="relativetime-clean">Jun 9 '17 at 18:28</span></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"/></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-44325931" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-44325931" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="44212447"></a>
<div id="answer-44212447" class="answer" data-answerid="44212447"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="44212447">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">43</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Another solution is to execute code via sequential executor <a href="https://github.com/amaksr/nsynjs" rel="noreferrer">nsynjs</a>.</p>

<h2>If underlying function is promisified</h2>

<p>nsynjs will evaluate all promises sequentially, and put promise result into <code>data</code> property:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function synchronousCode() {

    var getURL = function(url) {
        return window.fetch(url).data.text().data;
    };
    
    var url = 'https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js';
    console.log('received bytes:',getURL(url).length);
    
};

nsynjs.run(synchronousCode,{},function(){
    console.log('synchronousCode done');
});</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://rawgit.com/amaksr/nsynjs/master/nsynjs.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
</p>

<h2>If underlying function is not promisified</h2>

<p>Step 1. Wrap function with callback into nsynjs-aware wrapper (if it has promisified version, you can skip this test):</p>

<pre><code>var ajaxGet = function (ctx,url) {
    var res = {};
    var ex;
    $.ajax(url)
    .done(function (data) {
        res.data = data;
    })
    .fail(function(e) {
        ex = e;
    })
    .always(function() {
        ctx.resume(ex);
    });
    return res;
};
ajaxGet.nsynjsHasCallback = true;
</code></pre>

<p>Step 2. Put synchronous logic into function:</p>

<pre><code>function process() {
    console.log('got data:', ajaxGet(nsynjsCtx, "data/file1.json").data);
}
</code></pre>

<p>Step 3. Run function in synchronous manner via nnsynjs:</p>

<pre><code>nsynjs.run(process,this,function () {
    console.log("synchronous function finished");
});
</code></pre>

<p>Nsynjs will evaluate all operators and expressions step-by-step, pausing execution in case if result of some slow function is not ready.</p>

<p>More examples here: <a href="https://github.com/amaksr/nsynjs/tree/master/examples" rel="noreferrer">https://github.com/amaksr/nsynjs/tree/master/examples</a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/44212447/3093468" title="short permalink to this answer" class="short-link" id="link-post-44212447">share</a><span class="lsep">|</span><a href="/posts/44212447/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="44212447">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/44212447/revisions" title="show all edits to this post">edited <span title="2017-07-04 20:30:36Z" class="relativetime">Jul 4 '17 at 20:30</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2017-05-27 02:47:04Z" class="relativetime">May 27 '17 at 2:47</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1464130/amaksr"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/c8b0e7020d1a9b92584574bb8059ad38?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1464130/amaksr">amaksr</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,821</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="10 silver badges"><span class="badge2"></span><span class="badgecount">10</span></span><span title="15 bronze badges"><span class="badge3"></span><span class="badgecount">15</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-44212447" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-76186973" class="comment js-comment " data-comment-id="76186973">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">1</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">This is interesting. I like how it allows to code async calls the way you&#39;d do it in other languages. But technically it&#39;s not real JavaScript?</span>
                    &ndash;&nbsp;<a href="/users/6384183/j-morris"
                       title="56 reputation"
                       class="comment-user">J Morris</a>
                <span class="comment-date" dir="ltr"><span title="2017-06-16 23:55:06Z" class="relativetime-clean">Jun 16 '17 at 23:55</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-44212447" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-44212447" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="48594476"></a>
<div id="answer-48594476" class="answer" data-answerid="48594476"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="48594476">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">42</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<blockquote>
  <p>Js is a single threaded.</p>
</blockquote>

<p>Browser can be divided into three parts:</p>

<p>1)Event Loop</p>

<p>2)Web API</p>

<p>3)Event Queue</p>

<p>Event Loop runs for forever i.e kind of infinite loop.Event Queue is where all your function are pushed on some event(example:click) this is one by one carried out of queue and put into Event loop which execute this function and prepares it self for next one after first one is executed.This means Execution of one function doesn't starts till the function before it in queue is executed in event loop.</p>

<p>Now let us think we pushed two functions in a queue one is for getting a data from server and another utilises that data.We pushed the serverRequest() function in queue first then utiliseData() function. serverRequest function goes in event loop and makes a call to server as we never know how much time it will take to get data from server
so this process is expected to take time and so we busy our event loop thus hanging our page, that's where Web API come into role it take this function from event loop and deals with server making event loop free so that we can execute next function from queue.The next function in queue is utiliseData() which goes in loop but because of no data available it goes waste and execution of next function continues till end of the queue.(This is called Async calling i.e we can do something else till we get data)</p>

<p>Let suppose our serverRequest() function had a return statement in a code, when we get back data from server Web API will push it in queue at the end of queue.
As it get pushed at end in queue we cannot utilise its data as there is no function left in our queue to utilise this data.<strong>Thus it is not possible to return something from Async Call.</strong></p>

<p>Thus Solution to this is <em>callback</em> or <em>promise</em>.</p>

<p><em>A Image from one of the answers here, Correctly explains callback use...</em>
We give our function(function utilising data returned from server) to function calling server.</p>

<p><a href="https://i.stack.imgur.com/UCJgN.png" rel="noreferrer"><img src="https://i.stack.imgur.com/UCJgN.png" alt="CallBack"></a></p>

<pre><code> function doAjax(callbackFunc, method, url) {
  var xmlHttpReq = new XMLHttpRequest();
  xmlHttpReq.open(method, url);
  xmlHttpReq.onreadystatechange = function() {

      if (xmlHttpReq.readyState == 4 &amp;&amp; xmlHttpReq.status == 200) {
        callbackFunc(xmlHttpReq.responseText);
      }


  }
  xmlHttpReq.send(null);

}
</code></pre>

<p>In my Code it is called as</p>

<pre><code>function loadMyJson(categoryValue){
  if(categoryValue==="veg")
  doAjax(print,"GET","http://localhost:3004/vegetables");
  else if(categoryValue==="fruits")
  doAjax(print,"GET","http://localhost:3004/fruits");
  else 
  console.log("Data not found");
}
</code></pre>

<p>Read here for new methods in ECMA(2016/17) for making async call(@Felix Kling Answer on Top)
<a href="https://stackoverflow.com/a/14220323/7579856">https://stackoverflow.com/a/14220323/7579856</a></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/48594476/3093468" title="short permalink to this answer" class="short-link" id="link-post-48594476">share</a><span class="lsep">|</span><a href="/posts/48594476/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="48594476">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/48594476/revisions" title="show all edits to this post">edited <span title="2018-03-16 16:48:55Z" class="relativetime">Mar 16 at 16:48</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-02-03 06:06:53Z" class="relativetime">Feb 3 at 6:06</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/7579856/aniket-jha"><div class="gravatar-wrapper-32"><img src="https://graph.facebook.com/223196274810763/picture?type=large" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/7579856/aniket-jha">Aniket Jha</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">736</span><span title="5 silver badges"><span class="badge2"></span><span class="badgecount">5</span></span><span title="9 bronze badges"><span class="badge3"></span><span class="badgecount">9</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-48594476" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-48594476" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-48594476" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="38931349"></a>
<div id="answer-38931349" class="answer" data-answerid="38931349"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="38931349">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">29</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Here are some approaches to work with asynchronous requests:</h2>

<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">Browser Promise object</a></li>
<li><a href="https://github.com/kriskowal/q" rel="noreferrer">Q</a> - A promise library for JavaScript</li>
<li><a href="https://www.promisejs.org/" rel="noreferrer">A+ Promises.js</a></li>
<li><a href="https://api.jquery.com/jquery.deferred/" rel="noreferrer">jQuery deferred</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="noreferrer">XMLHttpRequest API</a></li>
<li>Using callback concept - As implementation in first answer</li>
</ol>

<h3>Example: jQuery deferred implementation to work with multiple requests</h3>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var App = App || {};

App = {
    getDataFromServer: function(){

      var self = this,
                 deferred = $.Deferred(),
                 requests = [];

      requests.push($.getJSON('request/ajax/url/1'));
      requests.push($.getJSON('request/ajax/url/2'));

      $.when.apply(jQuery, requests).done(function(xhrResponse) {
        return deferred.resolve(xhrResponse.result);
      });
      return deferred;
    },

    init: function(){

        this.getDataFromServer().done(_.bind(function(resp1, resp2) {

           // Do the operations which you wanted to do when you
           // get a response from Ajax, for example, log response.
        }, this));
    }
};
App.init();</code></pre>
</div>
</div>
</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/38931349/3093468" title="short permalink to this answer" class="short-link" id="link-post-38931349">share</a><span class="lsep">|</span><a href="/posts/38931349/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="38931349">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/38931349/revisions" title="show all edits to this post">edited <span title="2017-06-22 09:31:40Z" class="relativetime">Jun 22 '17 at 9:31</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2016-08-13 09:36:41Z" class="relativetime">Aug 13 '16 at 9:36</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2234618/mohan-dere"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/1e7973e3a7ca1d304fb984823d6bbf39?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2234618/mohan-dere">Mohan Dere</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,354</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="10 silver badges"><span class="badge2"></span><span class="badgecount">10</span></span><span title="12 bronze badges"><span class="badge3"></span><span class="badgecount">12</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-38931349" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-38931349" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-38931349" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="43582897"></a>
<div id="answer-43582897" class="answer" data-answerid="43582897"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="43582897">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">27</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Use a <code>callback()</code> function inside the <code>foo()</code> success.
Try in this way. It is simple and easy to understand. &nbsp;</p>

<pre><code>var lat = "";
var lon = "";
function callback(data) {
    lat = data.lat;
    lon = data.lon;
}
function getLoc() {
    var url = "http://ip-api.com/json"
    $.getJSON(url, function(data) {
        callback(data);
    });
}

getLoc();
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/43582897/3093468" title="short permalink to this answer" class="short-link" id="link-post-43582897">share</a><span class="lsep">|</span><a href="/posts/43582897/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="43582897">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/43582897/revisions" title="show all edits to this post">edited <span title="2017-11-17 09:15:45Z" class="relativetime">Nov 17 '17 at 9:15</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3501205/alex-weitz"><div class="gravatar-wrapper-32"><img src="https://graph.facebook.com/1639234418/picture?type=large" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3501205/alex-weitz">Alex Weitz</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,351</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="14 silver badges"><span class="badge2"></span><span class="badgecount">14</span></span><span title="26 bronze badges"><span class="badge3"></span><span class="badgecount">26</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2017-04-24 08:09:03Z" class="relativetime">Apr 24 '17 at 8:09</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/6570691/mahfuzur-rahman"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/yLpDD.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/6570691/mahfuzur-rahman">Mahfuzur Rahman</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">670</span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="14 bronze badges"><span class="badge3"></span><span class="badgecount">14</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-43582897" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-43582897" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-43582897" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="48842851"></a>
<div id="answer-48842851" class="answer" data-answerid="48842851"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="48842851">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">27</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>ECMAScript 6 has 'generators' which allow you to easily program in an asynchronous style.</p>

<pre><code>function* myGenerator() {
    const callback = yield;
    let [response] = yield $.ajax("https://stackoverflow.com", {complete: callback});
    console.log("response is:", response);

    // examples of other things you can do
    yield setTimeout(callback, 1000);
    console.log("it delayed for 1000ms");
    while (response.statusText === "error") {
        [response] = yield* anotherGenerator();
    }
}
</code></pre>

<p>To run the above code you do this:</p>

<pre><code>const gen = myGenerator(); // Create generator
gen.next(); // Start it
gen.next((...args) =&gt; gen.next([...args])); // Set its callback function
</code></pre>

<p>If you need to target browsers that don't support ES6 you can run the code through Babel or closure-compiler to generate ECMAScript 5.</p>

<p>The callback <code>...args</code> are wrapped in an array and destructured when you read them so that the pattern can cope with callbacks that have multiple arguments. For example with <a href="https://nodejs.org/api/fs.html" rel="noreferrer">node fs</a>:</p>

<pre><code>const [err, data] = yield fs.readFile(filePath, "utf-8", callback);
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/48842851/3093468" title="short permalink to this answer" class="short-link" id="link-post-48842851">share</a><span class="lsep">|</span><a href="/posts/48842851/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="48842851">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/48842851/revisions" title="show all edits to this post">edited <span title="2018-07-31 10:35:51Z" class="relativetime">Jul 31 at 10:35</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-02-17 15:26:28Z" class="relativetime">Feb 17 at 15:26</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1185191/james"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/d8087c4c65ccdf94761ce95c695f8896?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1185191/james">James</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,806</span><span title="16 silver badges"><span class="badge2"></span><span class="badgecount">16</span></span><span title="28 bronze badges"><span class="badge3"></span><span class="badgecount">28</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-48842851" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="1"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-84692643" class="comment js-comment " data-comment-id="84692643">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">I would be interested to know why this is down-voted. It seems a good simple answer that has not been previously given.</span>
                    &ndash;&nbsp;<a href="/users/1185191/james"
                       title="2,806 reputation"
                       class="comment-user">James</a>
                <span class="comment-date" dir="ltr"><span title="2018-02-17 17:49:50Z" class="relativetime-clean">Feb 17 at 17:49</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-48842851" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-48842851" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="47043798"></a>
<div id="answer-47043798" class="answer" data-answerid="47043798"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="47043798">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">27</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>It's a very common issue we face while struggling with the 'mysteries' of JavaScript. Let me try demystifying this mystery today.</p>

<p>Let's start with a simple JavaScript function:</p>

<pre><code>function foo(){
// do something 
 return 'wohoo';
}

let bar = foo(); // bar is 'wohoo' here
</code></pre>

<p>That's a simple synchronous function call (where each line of code executed one after other in sequence), and the result is same as expected.</p>

<p>Now let's add a bit of twist, by introducing little delay in our function, so that all lines of code are not executed in sequence. Thus, it will emulate the asynchronous behavior of function :</p>

<pre><code>function foo(){
 setTimeout( ()=&gt;{
   return 'wohoo';
  }, 1000 )
}

let bar = foo() // bar is undefined here
</code></pre>

<p>So there you go, that delay just broke the functionality we expected ! But what exactly happened ? Well, it's actually pretty logical if you look at the code. the function <code>foo()</code>, upon execution, returns nothing (thus returned value is <code>undefined</code>), but it does start a timer, which executes a function after 1s to return 'wohoo'. But as you can see, the value that's assigned to bar is the immediately returned stuff from foo(), not anything else that comes later.</p>

<p><strong>So, how do we tackle this issue?</strong></p>

<p>Let's ask our function for a <strong>PROMISE</strong>.
Promise is really about what it means : it means that the function guarantees you to provide with any output it gets in future. so let's see it in action for our little problem above : </p>

<pre><code>function foo(){
   return new Promise( (resolve, reject) =&gt; { // I want foo() to PROMISE me something
    setTimeout ( function(){ 
      // promise is RESOLVED , when execution reaches this line of code
       resolve('wohoo')// After 1 second, RESOLVE the promise with value 'wohoo'
    }, 1000 )
  })
}

let bar ; 
foo().then( res =&gt; {
 bar = res;
 console.log(bar) // will print 'wohoo'
});
</code></pre>

<p>Thus, the summary is - to tackle the asynchronous functions like ajax based calls etc., you can use a promise to <code>resolve</code> the value (which you intend to return). Thus, in short you <strong>resolve</strong> value instead of <strong>returning</strong>, in asynchronous functions.</p>

<h2>UPDATE (Promises with async/await)</h2>

<p>Apart from using <code>then/catch</code> to work with promises, there exists one more approach. The idea is to <em>recognize an asynchronous function</em> and then <em>wait for the promises</em> to resolve, before moving to the next line of code. It's still just the <code>promises</code> under the hood, but with a different syntactical approach. To make things clearer, you can find a comparison below:</p>

<h3>then/catch version:</h3>

<pre><code>function fetchUsers(){
   let users = [];
   getUsers()
   .then(_users =&gt; users = _users)
   .catch(err =&gt;{
      throw err
   })
   return users;
 }
</code></pre>

<h3>async/await version:</h3>

<pre><code>  async function fetchUsers(){
     try{
        let users = await getUsers()
        return users;
     }
     catch(err){
        throw err;
     }
  }
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/47043798/3093468" title="short permalink to this answer" class="short-link" id="link-post-47043798">share</a><span class="lsep">|</span><a href="/posts/47043798/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="47043798">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/47043798/revisions" title="show all edits to this post">edited <span title="2018-10-03 16:09:37Z" class="relativetime">yesterday</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2017-10-31 20:12:45Z" class="relativetime">Oct 31 '17 at 20:12</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/5013932/anish-k"><div class="gravatar-wrapper-32"><img src="https://lh5.googleusercontent.com/-EbljcMgzLrM/AAAAAAAAAAI/AAAAAAAAAGg/8fjw4Ao5oIw/photo.jpg?sz=32" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/5013932/anish-k">Anish K.</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">522</span><span title="8 silver badges"><span class="badge2"></span><span class="badgecount">8</span></span><span title="17 bronze badges"><span class="badge3"></span><span class="badgecount">17</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-47043798" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="2"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-47043798" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-47043798" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator ">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href=# onclick="">show <b>2</b> more comments</a>
        </div>         
    </div>    </div>
</div>

  
<a name="32750752"></a>
<div id="answer-32750752" class="answer" data-answerid="32750752"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="32750752">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">25</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p><strong>Short answer</strong>: Your <code>foo()</code> method returns immediately, while the <code>$ajax()</code> call executes asynchronously <em>after the function returns</em>. The problem is then how or where to store the results retrieved by the async call once it returns.</p>

<p>Several solutions have been given in this thread. Perhaps the easiest way is to pass an object to the <code>foo()</code> method, and to store the results in a member of that object after the async call completes.</p>

<pre><code>function foo(result) {
    $.ajax({
        url: '...',
        success: function(response) {
            result.response = response;   // Store the async result
        }
    });
}

var result = { response: null };   // Object to hold the async result
foo(result);                       // Returns before the async completes
</code></pre>

<p>Note that the call to <code>foo()</code> will still return nothing useful. However, the result of the async call will now be stored in <code>result.response</code>.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/32750752/3093468" title="short permalink to this answer" class="short-link" id="link-post-32750752">share</a><span class="lsep">|</span><a href="/posts/32750752/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="32750752">flag</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2015-09-23 22:52:03Z" class="relativetime">Sep 23 '15 at 22:52</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/170383/david-r-tribble"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/4d9f7a30948dca1bbd05eaf27f277ae6?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/170383/david-r-tribble">David R Tribble</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">8,400</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="32 silver badges"><span class="badge2"></span><span class="badgecount">32</span></span><span title="47 bronze badges"><span class="badge3"></span><span class="badgecount">47</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-32750752" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-53342110" class="comment js-comment " data-comment-id="53342110">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="warm">11</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">While this works, it&#39;s not really better than assigning to a global variable.</span>
                    &ndash;&nbsp;<a href="/users/218196/felix-kling"
                       title="528,803 reputation"
                       class="comment-user owner">Felix Kling</a>
                <span class="comment-date" dir="ltr"><span title="2015-09-23 22:53:07Z" class="relativetime-clean">Sep 23 '15 at 22:53</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-32750752" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-32750752" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="44935441"></a>
<div id="answer-44935441" class="answer" data-answerid="44935441"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="44935441">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">17</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Of course there are many approaches like synchronous request, promise, but from my experience I think you should use the callback approach. It's natural to asynchronous behavior of Javascript.
So, your code snippet can be rewrite a little different:</p>

<pre><code>function foo() {
    var result;

    $.ajax({
        url: '...',
        success: function(response) {
            myCallback(response);
        }
    });

    return result;
}

function myCallback(response) {
    // Does something.
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/44935441/3093468" title="short permalink to this answer" class="short-link" id="link-post-44935441">share</a><span class="lsep">|</span><a href="/posts/44935441/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="44935441">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/44935441/revisions" title="show all edits to this post">edited <span title="2018-03-07 14:23:16Z" class="relativetime">Mar 7 at 14:23</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3853934/micha%c5%82-per%c5%82akowski"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/GtQuz.jpg?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3853934/micha%c5%82-per%c5%82akowski">MichaÅ‚ PerÅ‚akowski</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 38,614" dir="ltr">38.6k</span><span title="15 gold badges"><span class="badge1"></span><span class="badgecount">15</span></span><span title="95 silver badges"><span class="badge2"></span><span class="badgecount">95</span></span><span title="111 bronze badges"><span class="badge3"></span><span class="badgecount">111</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2017-07-05 20:28:42Z" class="relativetime">Jul 5 '17 at 20:28</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2612644/khoa-bui"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/fa577363975bb8697c3e3e1e5b34f6eb?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2612644/khoa-bui">Khoa Bui</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">293</span><span title="3 silver badges"><span class="badge2"></span><span class="badgecount">3</span></span><span title="13 bronze badges"><span class="badge3"></span><span class="badgecount">13</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-44935441" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">


    <li id="comment-85704379" class="comment js-comment " data-comment-id="85704379">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received"
                            class="cool">4</span>
            </div>
                <div class="comment-voting mtn2">
                        <a tabindex="0" role="button" href="#" class="comment-up comment-up-off" aria-label="Upvote Comment" title="This comment adds something useful to the post">
                            <svg aria-hidden="true" class="svg-icon iconArrowUp" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13h16L9 5z"/></svg>
                        </a>
                </div>
                            <div class="comment-flagging">
                        <a tabindex="0" role="button" href="#" class="comment-flag" aria-label="Flag Comment" title="Flag this comment for serious problems or moderator attention">
                            <svg aria-hidden="true" class="svg-icon iconFlag" width="18" height="18" viewBox="0 0 18 18"><path d="M3 2v14h2v-6h3.6l.4 1h6V3H9.5L9 2z"/></svg>
                        </a>
                </div>
        </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;" >
                <span class="comment-copy">There&#39;s nothing inherently asynchronous about callbacks or JavaScript.</span>
                    &ndash;&nbsp;<a href="/users/1915893/aluan-haddad"
                       title="11,249 reputation"
                       class="comment-user">Aluan Haddad</a>
                <span class="comment-date" dir="ltr"><span title="2018-03-18 19:48:53Z" class="relativetime-clean">Mar 18 at 19:48</span></span>
                                                                            </div>
        </div>
    </li>
            </ul>
				<div class="comment-form">
					<form id="add-comment-44935441" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-44935441" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="48243403"></a>
<div id="answer-48243403" class="answer" data-answerid="48243403"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="48243403">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">17</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>The question was: </p>

<blockquote>
  <p>How do I return the response from an asynchronous call?</p>
</blockquote>

<p>which CAN be interpreted as: </p>

<blockquote>
  <p>How to make <strong>asynchronous</strong> code look <strong>synchronous</strong>?</p>
</blockquote>

<p>The solution will be to avoid callbacks, and use a combination of <strong>Promises</strong> and <strong>async/await</strong>.</p>

<p>I would like to give an example for a Ajax request. </p>

<p>(Although it can be written in Javascript, I prefer to write it in Python, and compile it to Javascript using <a href="https://github.com/QQuick/Transcrypt" rel="noreferrer">Transcrypt</a>. It will be clear enough.)</p>

<p>Lets first enable JQuery usage, to have <code>$</code> available as <code>S</code>:</p>

<pre><code>__pragma__ ('alias', 'S', '$')
</code></pre>

<p>Define a function which returns a <strong>Promise</strong>, in this case an Ajax call:</p>

<pre><code>def read(url: str):
    deferred = S.Deferred()
    S.ajax({'type': "POST", 'url': url, 'data': { },
        'success': lambda d: deferred.resolve(d),
        'error': lambda e: deferred.reject(e)
    })
    return deferred.promise()
</code></pre>

<p>Use the <strong>asynchronous</strong> code as if it were <strong>synchronous</strong>:</p>

<pre><code>async def readALot():
    try:
        result1 = await read("url_1")
        result2 = await read("url_2")
    except Exception:
        console.warn("Reading a lot failed")
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/48243403/3093468" title="short permalink to this answer" class="short-link" id="link-post-48243403">share</a><span class="lsep">|</span><a href="/posts/48243403/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="48243403">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/48243403/revisions" title="show all edits to this post">edited <span title="2018-05-24 08:36:33Z" class="relativetime">May 24 at 8:36</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-01-13 19:13:20Z" class="relativetime">Jan 13 at 19:13</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/6109688/pieter-jan-bonestroo"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/2b7648fa5b8b257188ffb8bdc019de83?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/6109688/pieter-jan-bonestroo">Pieter Jan Bonestroo</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">236</span><span title="2 silver badges"><span class="badge2"></span><span class="badgecount">2</span></span><span title="7 bronze badges"><span class="badge3"></span><span class="badgecount">7</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-48243403" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-48243403" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-48243403" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="34959258"></a>
<div id="answer-34959258" class="answer" data-answerid="34959258"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="34959258">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">15</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>We find ourselves in a universe which appears to progress along a dimension we call "time". We don't really understand what time is, but we have developed abstractions and vocabulary that let us reason and talk about it: "past", "present", "future", "before", "after".</p>

<p>The computer systems we build--more and more--have time as an important dimension. Certain things are set up to happen in the future. Then other things need to happen after those first things eventually occur. This is the basic notion called "asynchronicity". In our increasingly networked world, the most common case of asynchonicity is waiting for some remote system to response to some request.</p>

<p>Consider an example. You call the milkman and order some milk. When it comes, you want to put it in your coffee. You can't put the milk in your coffee right now, because it is not here yet. You have to wait for it to come before putting it in your coffee. In other words, the following won't work:</p>

<pre><code>var milk = order_milk();
put_in_coffee(milk);
</code></pre>

<p>Because JS has no way to know that it needs to <strong>wait</strong> for <code>order_milk</code> to finish before it executes <code>put_in_coffee</code>. In other words, it does not know that <code>order_milk</code> is <strong>asynchronous</strong>--is something that is not going to result in milk until some future time. JS, and other declarative languages, execute one statement after another without waiting.</p>

<p>The classic JS approach to this problem, taking advantage of the fact that JS supports functions as first-class objects which can be passed around, is to pass a function as a parameter to the asynchonous request, which it will then invoke when it has complete its task sometime in the future. That is the "callback" approach. It looks like this:</p>

<pre><code>order_milk(put_in_coffee);
</code></pre>

<p><code>order_milk</code> kicks off, orders the milk, then, when and only when it arrives, it invokes <code>put_in_coffee</code>.</p>

<p>The problem with this callback approach is that it pollutes the normal semantics of a function reporting its result with <code>return</code>; instead, functions must nost reports their results by calling a callback given as a parameter. Also, this approach can rapidly become unwieldy when dealing with longer sequences of events. For example, let's say that I want to wait for the milk to be put in the coffee, and then and only then perform a third step, namely drinking the coffee. I end up needing to write something like this:</p>

<pre><code>order_milk(function(milk) { put_in_coffee(milk, drink_coffee); }
</code></pre>

<p>where I am passing to <code>put_in_coffee</code> both the milk to put in it, and also the action (<code>drink_coffee</code>) to execute once the milk has been put in. Such code becomes hard to write, and read, and debug.</p>

<p>In this case, we could rewrite the code in the question as:</p>

<pre><code>var answer;
$.ajax('/foo.json') . done(function(response) {
  callback(response.data);
});

function callback(data) {
  console.log(data);
}
</code></pre>

<h3>Enter promises</h3>

<p>This was the motivation for the notion of a "promise", which is a particular type of value which represents a <strong>future</strong> or <strong>asynchronous</strong> outcome of some sort. It can represent something that already happened, or that is going to happen in the future, or might never happen at all. Promises have a single method, named <code>then</code>, to which you pass an action to be executed when the outcome the promise represents has been realized.</p>

<p>In the case of our milk and coffee, we design <code>order_milk</code> to return a promise for the milk arriving, then specify <code>put_in_coffee</code> as a <code>then</code> action, as follows:</p>

<pre><code>order_milk() . then(put_in_coffee)
</code></pre>

<p>One advantage of this is that we can string these together to create sequences of future occurrences ("chaining"):</p>

<pre><code>order_milk() . then(put_in_coffee) . then(drink_coffee)
</code></pre>

<p>Let's apply promises to your particular problem. We will wrap our request logic inside a function, which returns a promise:</p>

<pre><code>function get_data() {
  return $.ajax('/foo.json');
}
</code></pre>

<p>Actually, all we've done is added a <code>return</code> to the call to <code>$.ajax</code>. This works because jQuery's <code>$.ajax</code> already returns a kind of promise-like thing. (In practice, without getting into details, we would prefer to wrap this call so as return a real promise, or use some alternative to <code>$.ajax</code> that does so.) Now, if we want to load the file and wait for it to finish and then do something, we can simply say </p>

<pre><code>get_data() . then(do_something)
</code></pre>

<p>for instance,</p>

<pre><code>get_data() . 
  then(function(data) { console.log(data); });
</code></pre>

<p>When using promises, we end up passing lots of functions into <code>then</code>, so it's often helpful to use the more compact ES6-style arrow functions:</p>

<pre><code>get_data() . 
  then(data =&gt; console.log(data));
</code></pre>

<h3>The <code>async</code> keyword</h3>

<p>But there's still something vaguely dissatisfying about having to write code one way if synchronous and a quite different way if asynchronous. For synchronous, we write</p>

<pre><code>a();
b();
</code></pre>

<p>but if <code>a</code> is asynchronous, with promises we have to write</p>

<pre><code>a() . then(b);
</code></pre>

<p>Above, we said "JS has no way to know that it needs to <strong>wait</strong> for the first call to finish before it executes the second". Wouldn't it be nice if there <strong>was</strong> some way to tell JS that? It turns out that there is--the <code>await</code> keyword, used inside a special type of function called an "async" function. This feature is part of the upcoming version of ES, but is already available in transpilers such as Babel given the right presets. This allows us to simply write</p>

<pre><code>async function morning_routine() {
  var milk   = await order_milk();
  var coffee = await put_in_coffee(milk);
  await drink(coffee);
}
</code></pre>

<p>In your case, you would be able to write something like </p>

<pre><code>async function foo() {
  data = await get_data();
  console.log(data);
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/34959258/3093468" title="short permalink to this answer" class="short-link" id="link-post-34959258">share</a><span class="lsep">|</span><a href="/posts/34959258/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="34959258">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/34959258/revisions" title="show all edits to this post">edited <span title="2017-11-09 20:30:58Z" class="relativetime">Nov 9 '17 at 20:30</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jan 23 &#39;16 at 3:28. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-34959258" href="/posts/34959258/revisions" title="show revision history for this post">
        3 revs, 2 users 95%<br>user663031
        </a>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-34959258" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-34959258" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-34959258" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="48415961"></a>
<div id="answer-48415961" class="answer" data-answerid="48415961"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="48415961">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">10</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Using ES2017 you should have this as the function declaration</p>

<pre><code>async function foo() {
    var response = await $.ajax({url: '...'})
    return response;
}
</code></pre>

<p>And executing it like this.</p>

<pre><code>(async function() {
    try {
        var result = await foo()
        console.log(result)
    } catch (e) {}
})()
</code></pre>

<p>Or the Promise syntax</p>

<pre><code>foo().then(response =&gt; {
    console.log(response)

}).catch(error =&gt; {
    console.log(error)

})
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/48415961/3093468" title="short permalink to this answer" class="short-link" id="link-post-48415961">share</a><span class="lsep">|</span><a href="/posts/48415961/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="48415961">flag</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-01-24 06:18:55Z" class="relativetime">Jan 24 at 6:18</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/4612927/fernando-carvajal"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/dde3e03ade5eccb4e3dcc20fbe8cd528?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/4612927/fernando-carvajal">Fernando Carvajal</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">503</span><span title="5 silver badges"><span class="badge2"></span><span class="badgecount">5</span></span><span title="11 bronze badges"><span class="badge3"></span><span class="badgecount">11</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-48415961" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-48415961" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-48415961" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="46923420"></a>
<div id="answer-46923420" class="answer" data-answerid="46923420"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="46923420">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">9</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p><strong>Let's see the forest first before looking at the trees.</strong></p>

<p>There are many informative answers with great details here, I won't repeat any of them. The key to programming in JavaScript is having first the <strong>correct mental model</strong> of overall execution.</p>

<ol>
<li>Your entry point(s) is executed as the result of an event. For
example, a script tag with code is loaded into the browser.
(Accordingly, this is why you may need to be concerned with the
readiness of the page to run your code if it requires dom elements
to be constructed first, etc.)</li>
<li>Your code executes to completion--however many asynchronous calls it
makes--without executing <strong>any</strong> of your callbacks, including XHR
requests, set timeouts, dom event handlers, etc. Each of those callbacks waiting to be executed will sit in a queue, waiting their turn to be run after other events that fired have all finished execution.</li>
<li>Each individual callback to an XHR request, set timeout or dom
the event once invoked will then run to completion.</li>
</ol>

<p>The good news is that if you understand this point well, you will never have to worry about race conditions. You should first and foremost thing of how you want to organize your code as essentially the response to different discrete events, and how you want to thread them together into a logical sequence.  You can use promises or higher level new async/await as tools to that end, or you can roll your own.</p>

<p>But you shouldn't use any tactical tools to solve a problem until you are comfortable with the actual problem domain. Draw a map of these dependencies to know what needs to run when. Attempting an ad-hoc approach to all these callbacks is just not going to serve you well.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/46923420/3093468" title="short permalink to this answer" class="short-link" id="link-post-46923420">share</a><span class="lsep">|</span><a href="/posts/46923420/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="46923420">flag</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/46923420/revisions" title="show all edits to this post">edited <span title="2017-10-29 08:36:37Z" class="relativetime">Oct 29 '17 at 8:36</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/956198/efarzad"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/2a759f393bec5c8a454f16771f2a0f08?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/956198/efarzad">eFarzad</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">551</span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="21 bronze badges"><span class="badge3"></span><span class="badgecount">21</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2017-10-25 03:22:21Z" class="relativetime">Oct 25 '17 at 3:22</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/8570409/haim-zamir"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/b73c42d105d48f4795a0a247ed2b7f66?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/8570409/haim-zamir">Haim Zamir</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">164</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="3 bronze badges"><span class="badge3"></span><span class="badgecount">3</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-46923420" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-46923420" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-46923420" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="50178868"></a>
<div id="answer-50178868" class="answer" data-answerid="50178868"   itemscope itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="50178868">
        <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">7</span>
        <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<p>Rather than throwing code at you, there are 2 concepts that are key to understanding how JS handles callbacks and asynchronicity. (is that even a word?) </p>

<h2><strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop" rel="noreferrer">The Event Loop and Concurrency Model</a></strong></h2>

<p>There are three things you need to be aware of; <strong>The queue; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop#Event_loop" rel="noreferrer">the event loop</a> and the stack</strong></p>

<p>In broad, simplistic terms, the event loop is like the project manager, it is constantly listening for any functions that want to run and communicates between the queue and the stack. </p>

<pre><code>while (queue.waitForMessage()) {
   queue.processNextMessage();
}
</code></pre>

<p>Once it receives a message to run something it adds it to the queue. The queue is the list of things that are waiting to execute (like your AJAX request). imagine it like this:</p>

<pre><code> 1. call foo.com/api/bar using foobarFunc
 2. Go perform an infinite loop
 ... and so on
</code></pre>

<p>When one of these messages is going to execute it pops the message from the queue and creates a stack, the stack is everything JS needs to execute to perform the instruction in the message. So in our example it's being told to call <code>foobarFunc</code></p>

<pre><code>function foobarFunc (var) {
  console.log(anotherFunction(var));
}
</code></pre>

<p>So anything that foobarFunc needs to execute (in our case <code>anotherFunction</code>) will get pushed onto the stack. executed, and then forgotten about - the event loop will then move onto the next thing in the queue (or listen for messages)</p>

<p><strong>The key thing here is the order of execution. That is</strong> </p>

<h2><strong>WHEN is something going to run</strong></h2>

<p>When you make a call using AJAX to an external party or run any asynchronous code (a setTimeout for example), Javascript is dependant upon a response before it can proceed.</p>

<p>The big question is when will it get the response? The answer is we don't know - so the event loop is waiting for that message to say "hey run me". If JS just waited around for that message synchronously your app would freeze and it will suck. So JS carries on executing the next item in the queue whilst waiting for the message to get added back to the queue.</p>

<p>That's why with asynchronous functionality we use things called <strong>callbacks</strong>. It's kinda like a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">promise</a> quite literally. As in I <em>promise to return something at some point</em> jQuery uses specific callbacks called <code>deffered.done</code> <code>deffered.fail</code> and <code>deffered.always</code> (amongst others). You can see them all <a href="https://api.jquery.com/category/deferred-object/" rel="noreferrer">here</a></p>

<p>So what you need to do is pass a function that is promised to execute at some point with data that is passed to it.</p>

<p>Because a callback is not executed immediately but at a later time it's important to pass the reference to the function not it executed. so</p>

<pre><code>function foo(bla) {
  console.log(bla)
}
</code></pre>

<p>so most of the time (but not always) you'll pass <code>foo</code> not <code>foo()</code></p>

<p>Hopefully that will make some sense. When you encounter things like this that seem confusing - i highly recommend reading the documentation fully to at least get an understanding of it. It will make you a much better developer.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="/a/50178868/3093468" title="short permalink to this answer" class="short-link" id="link-post-50178868">share</a><span class="lsep">|</span><a href="/posts/50178868/edit" class="suggest-edit-post" title="revise and improve this post">edit</a><span class="lsep">|</span><a href="#"
       class="flag-post-link"
       title="flag this post for serious problems or moderator attention"
       data-postid="50178868">flag</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-05-04 15:56:07Z" class="relativetime">May 4 at 15:56</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/4866533/matthew-brent"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/04aeb67413fa61041666b07c3d27db79?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/4866533/matthew-brent">Matthew Brent</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">754</span><span title="5 silver badges"><span class="badge2"></span><span class="badgecount">5</span></span><span title="18 bronze badges"><span class="badge3"></span><span class="badgecount">18</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-50178868" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list"
                    data-remaining-comments-count="0"
                    data-canpost="true"
                    data-cansee="false"
                    data-comments-unavailable="false"
                    data-addlink-disabled="false">

            </ul>
				<div class="comment-form">
					<form id="add-comment-50178868" 
							class="" 
							data-placeholdertext="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."></form>
				</div>
	    </div>

        <div id="comments-link-50178868" >

                <a class="js-add-link comments-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like â€œ+1â€ or â€œthanksâ€."
                   href=#>add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </div>    </div>
</div>
<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>                                    <a name='new-answer'></a>
                        <form id="post-form" action="/questions/14220321/answer/submit" method="post"  class="dno post-form">
                            <input type="hidden" id="post-id" value="14220321" />
                            <input type="hidden" id="qualityBanWarningShown" name="qualityBanWarningShown" value="false" />
                            <input type="hidden" name="referrer" value="https://stackoverflow.com/questions?sort=frequent"/>
                            <h2 class="space">Your Answer</h2>


            <script>
            StackExchange.ifUsing("editor", function () {
                StackExchange.using("externalEditor", function () {
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.init();
                    });
                });
            }, "code-snippets");
        </script>
    

<script>
    StackExchange.ready(function() {
        var channelOptions = {
            tags: "".split(" "),
            id: "1"
        };
        initTagRenderer("".split(" "), "".split(" "), channelOptions);
       
        StackExchange.using("externalEditor", function() {
                // Have to fire editor after snippets, if snippets enabled
                if (StackExchange.settings.snippets.snippetsEnabled) {
                    StackExchange.using("snippets", function() {
                        createEditor();
                    });
                }
                else {
                    createEditor();
                }
            });

            function createEditor() {
                StackExchange.prepareEditor({
                    heartbeatType: 'answer',
                convertImagesToLinks: false,
                noModals: false,
                showLowRepImageUploadWarning: false,
                reputationToPostImages: null,
                bindNavPrevention: true,
                postfix: "",
                    onDemand: false,
                    discardSelector: ".discard-answer"
                    ,immediatelyShowMarkdownHelp:true,userId:3093468
                    });
                

        }
    });
</script>


<div id="post-editor" class="post-editor js-post-editor wz-element" data-wz-state="3,4,5,6,7,8">

    <div style="position: relative;"> 
        <div class="wmd-container">
            <div id="wmd-button-bar" class="wmd-button-bar btr-sm"></div>
                        <div class="js-stacks-validation">
                <div class="ps-relative">
                    <textarea id="wmd-input" class="wmd-input wz-element s-input bar0" name="post-text" cols="92" rows="15" tabindex="101" data-wz-state="8" data-min-length=""></textarea>
                </div>
                <div class="s-input-message mt4 d-none js-stacks-validation-message"></div>
            </div>
        </div>
    </div>

    <div class="fl" style="margin-top: 8px; height:24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height:24px; display:none;">draft saved</div>

    <div id="draft-discarded" class="draft-discarded community-option fl" style="margin-top: 8px; height:24px; display:none;">draft discarded</div>

    <div class="community-option g-row ai-center f-checkbox">
        <div class="g-col -input">
            <input id="communitymode" name="communitymode" type="checkbox" >
        </div>
        <div class="g-col">
            <label for="communitymode" class="f-label _small" title="Marking an answer community wiki encourages others to edit it by lowering the reputation barrier required to edit. However, you will not gain any upvote reputation from it. This cannot be undone.">community wiki</label>
        </div>
    </div>


    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" type="hidden" value="5e5a746d88dc3f2aa1a8289e5b10ee862bb9725f050da05630494450b2ff8054">
        <input id="author" name="author" type="text">
    </div>



</div>

                            <div style="position: relative;">
                                
                                
                            </div>

                                                            <div class="form-submit cbt grid gsx gs4">
                                        <button id="submit-button" class="grid--cell s-btn s-btn__primary" type="submit" tabindex="120" autocomplete="off">
Post Your Answer                                        </button>
                                        <button class="grid--cell s-btn s-btn__danger discard-answer dno">Discard</button>
                                                                    </div>
                        </form>
                            <div id="show-editor-button" class="form-submit">
                                <input type="button"
                                       value="Answer This Question"
                                       data-confirm-text="This question has more than 30 answers already.

Did you read through all the existing answers first to make sure your answer will be contributing something new?

Also, please note that you can click the edit link on any of these answers to improve them."
                                       data-confirm-use-fancy="False"
                                       data-confirm-fancy-title=""
                                       data-confirm-fancy-body=""
                                       data-confirm-fancy-accept-button=""/>
                            </div>
                            <script>
                                StackExchange.ready(function () {
                                    $("#show-editor-button input, #show-editor-button button").click(function () {
                                        var showEditor = function() {
                                            $("#show-editor-button").hide();
                                            $("#post-form").removeClass("dno");
                                            StackExchange.editor.finallyInit();
                                        };

                                        var useFancy = $(this).data('confirm-use-fancy');
                                        if(useFancy == 'True') {
                                            var popupTitle = $(this).data('confirm-fancy-title');
                                            var popupBody = $(this).data('confirm-fancy-body');
                                            var popupAccept = $(this).data('confirm-fancy-accept-button');

                                            $(this).loadPopup({
                                                url: '/post/self-answer-popup',
                                                loaded: function(popup) {
                                                    var pTitle = $(popup).find('h2');
                                                    var pBody = $(popup).find('.popup-body');
                                                    var pSubmit = $(popup).find('.popup-submit');

                                                    pTitle.text(popupTitle);
                                                    pBody.html(popupBody);
                                                    pSubmit.val(popupAccept).click(showEditor);
                                                }
                                            })
                                        } else{
                                            var confirmText = $(this).data('confirm-text');
                                            if (confirmText ? confirm(confirmText) : true) {
                                                showEditor();
                                            }
                                        }
                                    });
                                });
                            </script>



                        <h2 class="bottom-notice" data-loc="1">
Not the answer you&#39;re looking for?                            Browse other questions tagged <a href="/questions/tagged/javascript" class="post-tag" title="show questions tagged &#39;javascript&#39;" rel="tag">javascript</a> <a href="/questions/tagged/ajax" class="post-tag" title="show questions tagged &#39;ajax&#39;" rel="tag">ajax</a> <a href="/questions/tagged/asynchronous" class="post-tag" title="show questions tagged &#39;asynchronous&#39;" rel="tag">asynchronous</a> <a href="/questions/tagged/ecmascript-6" class="post-tag" title="show questions tagged &#39;ecmascript-6&#39;" rel="tag">ecmascript-6</a> <a href="/questions/tagged/ecmascript-2017" class="post-tag" title="show questions tagged &#39;ecmascript-2017&#39;" rel="tag">ecmascript-2017</a>  or <a href="/questions/ask">ask your own question</a>.                        </h2>
            </div>
        </div>
                <div id="sidebar" class="show-votes" role="complementary" aria-label="sidebar">
                            <div class="module question-stats">
                    <table id="qinfo">
                        <tr>
                            <td>
                                <p class="label-key">asked</p>
                            </td>
                            <td style="padding-left: 10px">
                                <p class="label-key" title="2013-01-08 17:06:14Z"><b>5 years, 9 months ago</b></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="label-key">viewed</p>
                            </td>

                            <td style="padding-left: 10px">
                                <p class="label-key">
                                    <b>1,100,752 times</b>
                                </p>
                            </td>
                        </tr>
                            <tr>
                                <td>
                                    <p class="label-key">active</p>
                                </td>
                                <td style="padding-left: 10px">
                                    <p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2018-10-03 16:09:37Z">yesterday</a></b></p>
                                </td>
                            </tr>
                    </table>
                </div>
            <div class="module community-bulletin" data-tracker="cb=1">
    <div class="related">
                <div class="bulletin-title">
                    Featured on Meta
                </div>
                <hr />
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="https://meta.stackexchange.com/questions/315662/responsive-design-released-for-all-beta-undesigned-sites" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackexchange.com/questions/315662/responsive-design-released-for-all-beta-undesigned-sites&quot;,null,null]">
<div class="favicon favicon-stackexchangemeta" title="Meta Stack Exchange"></div>                </a>
        </div>
        <div class="bulletin-item-content">
            <a href="https://meta.stackexchange.com/questions/315662/responsive-design-released-for-all-beta-undesigned-sites" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackexchange.com/questions/315662/responsive-design-released-for-all-beta-undesigned-sites&quot;,null,null]">Responsive design released for all Beta &amp; Undesigned sites</a>
        </div>
        <br class="cbt" />
    </div>
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="https://meta.stackoverflow.com/questions/373920/vsts-has-been-renamed-to-azure-devops-lets-talk-about-some-tags" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/373920/vsts-has-been-renamed-to-azure-devops-lets-talk-about-some-tags&quot;,null,null]">
<div class="favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>                </a>
        </div>
        <div class="bulletin-item-content">
            <a href="https://meta.stackoverflow.com/questions/373920/vsts-has-been-renamed-to-azure-devops-lets-talk-about-some-tags" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/373920/vsts-has-been-renamed-to-azure-devops-lets-talk-about-some-tags&quot;,null,null]">VSTS has been renamed to Azure DevOps - let&#39;s talk about some tags</a>
        </div>
        <br class="cbt" />
    </div>
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="https://meta.stackoverflow.com/questions/374617/happy-10th-anniversary-stack-overflow-commence-au-festival" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/374617/happy-10th-anniversary-stack-overflow-commence-au-festival&quot;,null,null]">
<div class="favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>                </a>
        </div>
        <div class="bulletin-item-content">
            <a href="https://meta.stackoverflow.com/questions/374617/happy-10th-anniversary-stack-overflow-commence-au-festival" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/374617/happy-10th-anniversary-stack-overflow-commence-au-festival&quot;,null,null]">Happy 10th anniversary Stack Overflow! Commence &hellip; au festival!</a>
        </div>
        <br class="cbt" />
    </div>
    <div class="spacer">
        <div class="bulletin-item-type">
                <a href="https://meta.stackoverflow.com/questions/278138/should-we-burninate-the-code-review-tag" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/278138/should-we-burninate-the-code-review-tag&quot;,null,null]">
<div class="favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>                </a>
        </div>
        <div class="bulletin-item-content">
            <a href="https://meta.stackoverflow.com/questions/278138/should-we-burninate-the-code-review-tag" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Featured on Meta&quot;,&quot;https://meta.stackoverflow.com/questions/278138/should-we-burninate-the-code-review-tag&quot;,null,null]">Should we burninate the [code-review] tag?</a>
        </div>
        <br class="cbt" />
    </div>
                <div class="bulletin-title">
                    Hot Meta Posts
                </div>
                <hr />
    <div class="spacer">
        <div class="bulletin-item-type">
                <span title="Vote score (upvotes - downvotes)">13</span>
        </div>
        <div class="bulletin-item-content">
            <a href="https://meta.stackoverflow.com/questions/374958/the-ask-a-question-wizard-should-suggest-citing-existing-similar-questions" class="question-hyperlink" data-ga="[&quot;community bulletin board&quot;,&quot;Hot Meta Posts&quot;,&quot;https://meta.stackoverflow.com/questions/374958/the-ask-a-question-wizard-should-suggest-citing-existing-similar-questions&quot;,null,null]">The &ldquo;Ask a Question&rdquo; wizard should suggest *citing* existing similar questions</a>
        </div>
        <br class="cbt" />
    </div>
    </div>
</div>
            
<div id="dfp-tsb" class="everyonelovesstackoverflow everyoneloves__top-sidebar"></div>
            <div id="hireme"></div>
<script>;try{(function(a){function b(a){return'string'==typeof a?document.getElementById(a):a}function c(a){return a=b(a),!!a&&'none'===getComputedStyle(a).display}function d(a){return!c(a)}function e(a){return!!a}function f(a){return /^\s*$/.test(b(a).innerHTML)}function g(a){var b=a.style;b.height=b.maxHeight=b.minHeight='auto',b.display='none',[].forEach.call(a.children,g)}function h(a,b){var c;return function(){return a&&(c=a.call(b||this,arguments),a=null),c}}function i(a){var b=document.createElement('script');b.src=a,document.body.appendChild(b)}function j(a){return k([],a)}function k(a,b){return a.push=function(a){return b(),delete this.push,this.push(a)},a}function l(){try{return!new Function('return async()=>{};')}catch(a){return!0}}function m(){return'undefined'!=typeof googletag&&!!googletag.apiReady}function n(){m()||(googletag={cmd:j(A)})}function o(){var a=document.createElement('div');a.className='adsbox',a.id='clc-abd',a.style.position='absolute',a.style.pointerEvents='none',a.innerHTML='&nbsp;',document.body.appendChild(a)}function p(a){var b=a.serviceName,c=a.slot,d=a.lineItemId;try{var e=c.getSlotElementId(),f=[];e||f.push('id=0');var h=document.getElementById(e);if(!e||h?h.hasAttribute('data-clc-stalled')&&f.push('st=1'):f.push('el=0'),0!==f.length)return void B(f.join('&'));-1===x.dh.indexOf(d)?h.setAttribute('data-clc-prefilled','true'):g(h),h.setAttribute('data-clc-ready','true')}catch(a){var i=document.querySelector('#dfp-tsb, #dfp-isb, #clc-tsb');i&&i.setAttribute('data-clc-ready','true'),B('e=1')}}function q(){return Object.keys(F.ids)}function r(a){var b=F.ids[a],c=F.slots[b];'function'==typeof c&&(c=c(a));return{path:'/'+C+'/'+E+'/'+b+'/'+D,sizes:c,zone:b}}function s(a){return!(clc.collapse&&void 0!==clc.collapse[a])||!!clc.collapse[a]}function t(a,b){'dfp-isb'===a&&b.setTargeting('Sidebar',['Inline']),'dfp-tsb'===a&&b.setTargeting('Sidebar',['Right']);var c=r(a),d=c.path,e=c.sizes,f=c.zone,g=googletag.defineSlot(d,e,a);s(f)&&g.setCollapseEmptyDiv(!0,!0),g.addService(b),!1}function u(b){var c=a.dfp&&a.dfp.targeting||{};Object.keys(c).forEach(function(a){b.setTargeting(a,c[a])})}function v(a){var g=a.map(b).filter(e);return{eligible:g.filter(f).filter(d).map(function(a){return a.id}),ineligible:g.filter(c)}}function w(b){if(void 0===b&&(b=q()),!m())return n(),void googletag.cmd.push(function(){return w(b)});var c=v(b),d=c.eligible,e=c.ineligible;if(e.forEach(g),0!==d.length){o(),googletag.destroySlots();var f=googletag.pubads();f.enableSingleRequest(),a.sreEvent||(f.addEventListener('slotRenderEnded',p),a.sreEvent=!0),u(f),d.forEach(function(a){return t(a,f)}),googletag.enableServices(),d.forEach(function(a){googletag.display(a)})}}var x=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d,e=0,f=b;e<f.length;e++)for(var g in d=f[e],d)a[g]=d[g];return a}({"lib":"https://cdn.sstatic.net/clc/clc.min.js?v=04d772c81312","style":"https://cdn.sstatic.net/clc/styles/clc.min.css?v=1db48f495ba1","u":"https://clc.stackoverflow.com/markup.js","wa":true,"kt":2000,"tto":true,"h":"clc.stackoverflow.com","allowed":"^(((talent\\.)?stackoverflow)|(blog\\.codinghorror)|(serverfault|askubuntu)|([^\\.]+\\.stackexchange))\\.com$","wv":true,"al":false,"dh":[4385506061,4386578282,4386579572]},a.options||{}),y=h(function(){var a=x.lib;l()&&(a=a.replace(/(\.min)?\.js(\?v=[0-9a-fA-F]+)?$/,'.ie$1.js$2')),i(a)}),z=a.cmd||[];Array.isArray(z)&&(0<z.length?y():k(z,y));var A=h(function(){i('https://www.googletagservices.com/tag/js/gpt.js')}),B=function(a){new Image().src='https://'+x.h+'/stalled.gif?'+a},C='248424177',D=/^\/tags\//.test(location.pathname)||/^\/questions\/tagged\//.test(location.pathname)?'tag-pages':'question-pages',E=location.hostname;var F={slots:{lb:[[728,90]],mlb:[[728,90]],sb:function(a){return'dfp-tsb'===a?[[300,250],[300,600]]:[[300,250]]},"tag-sponsorship":[[730,135]],"mobile-below-question":[[320,50],[300,250]]},ids:{"dfp-tlb":'lb',"dfp-mlb":'mlb',"dfp-tsb":'sb',"dfp-isb":'sb',"dfp-tag":'tag-sponsorship',"dfp-m-aq":'mobile-below-question',"clc-tlb":'lb',"clc-mlb":'mlb',"clc-tsb":'sb'}};(function(){var b=x.al;b&&z.push(function(){return a.load()})})(),n(),a.dfp={load:w},a.options=x,a.cmd=z})(this.clc=this.clc||{})}catch(a){window.console.error(a)}</script>            <script>
                var clc = clc || {};
                clc.collapse = { sb: !0,'tag-sponsorship':!0,lb:!1,mlb:!1,'mobile-below-question':!0};
                clc.cmd = clc.cmd || [];
                clc.cmd.push(function () { window.clc_request='Aj1UkcCGKtYIPro4ACH82AACAAAAAgAAAAM7AAAAfGphdmFzY3JpcHR8YWpheHxhc3luY2hyb25vdXN8ZWNtYXNjcmlwdC02fGVjbWFzY3JpcHQtMjAxN3wA1YHKZf8tItEM1Q'; clc.load(); });
                                clc.dfp = clc.dfp || {};
                clc.dfp.targeting = {Registered:['true'],'so-tag':['javascript','ajax','asynchronous','ecmascript-6','ecmascript-2017']};
                
                var googletag = googletag || {};
                googletag.cmd = googletag.cmd || [];
                googletag.cmd.push(function () { clc.dfp.load(); });
            </script>
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="/q/5316697" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted large">395</div>
	</a>
	<a href="/questions/5316697/jquery-return-data-after-ajax-call-success?noredirect=1" class="question-hyperlink">jQuery: Return data after ajax call success</a>
</div>
<div class="spacer">
	<a href="/q/6847697" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted large">373</div>
	</a>
	<a href="/questions/6847697/how-to-return-value-from-an-asynchronous-callback-function?noredirect=1" class="question-hyperlink">How to return value from an asynchronous callback function?</a>
</div>
<div class="spacer">
	<a href="/q/23339907" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">55</div>
	</a>
	<a href="/questions/23339907/returning-a-value-from-callback-function-in-node-js?noredirect=1" class="question-hyperlink">Returning a value from callback function in Node.js</a>
</div>
<div class="spacer">
	<a href="/q/14031421" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">77</div>
	</a>
	<a href="/questions/14031421/how-to-make-code-wait-while-calling-asynchronous-calls-like-ajax?noredirect=1" class="question-hyperlink">How to make code wait while calling asynchronous calls like Ajax</a>
</div>
<div class="spacer">
	<a href="/q/3222347" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">44</div>
	</a>
	<a href="/questions/3222347/javascript-global-variables-after-ajax-requests?noredirect=1" class="question-hyperlink">JavaScript: Global variables after Ajax requests</a>
</div>
<div class="spacer">
	<a href="/q/15764844" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">60</div>
	</a>
	<a href="/questions/15764844/jquery-getjson-save-result-into-variable?noredirect=1" class="question-hyperlink">jQuery getJSON save result into variable</a>
</div>
<div class="spacer">
	<a href="/q/709876" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">37</div>
	</a>
	<a href="/questions/709876/jquery-ajax-call-set-variable-value-on-success?noredirect=1" class="question-hyperlink">jQuery Ajax call - Set variable value on success</a>
</div>
<div class="spacer">
	<a href="/q/5150571" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">20</div>
	</a>
	<a href="/questions/5150571/javascript-function-that-returns-ajax-call-data?noredirect=1" class="question-hyperlink">JavaScript function that returns AJAX call data</a>
</div>
<div class="spacer">
	<a href="/q/41336663" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">27</div>
	</a>
	<a href="/questions/41336663/console-logresult-returns-object-object-how-do-i-get-result-name?noredirect=1" class="question-hyperlink">console.log(result) returns [object Object]. How do I get result.name?</a>
</div>
<div class="spacer">
	<a href="/q/7779697" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">25</div>
	</a>
	<a href="/questions/7779697/javascript-asynchronous-return-value-assignment-with-jquery?noredirect=1" class="question-hyperlink">JavaScript asynchronous return value / assignment with jQuery</a>
</div>					<div class="spacer more">
				<a href="/questions/linked/14220321">see more linked questionsâ€¦</a>
			</div>
	</div>
</div>

                <div class="module sidebar-related">
                    <h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer"><a href="/q/111102" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">7654</div></a><a href="/questions/111102/how-do-javascript-closures-work" class="question-hyperlink">How do JavaScript closures work?</a></div><div class="spacer"><a href="/q/133310" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1071</div></a><a href="/questions/133310/how-can-i-get-jquery-to-perform-a-synchronous-rather-than-asynchronous-ajax-re" class="question-hyperlink">How can I get jQuery to perform a synchronous, rather than asynchronous, Ajax request?</a></div><div class="spacer"><a href="/q/166221" title="Vote score (upvotes - downvotes)"><div class="answer-votes extra-large">2647</div></a><a href="/questions/166221/how-can-i-upload-files-asynchronously" class="question-hyperlink">How can I upload files asynchronously?</a></div><div class="spacer"><a href="/q/178325" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">6831</div></a><a href="/questions/178325/how-do-i-check-if-an-element-is-hidden-in-jquery" class="question-hyperlink">How do I check if an element is hidden in jQuery?</a></div><div class="spacer"><a href="/q/208105" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">5048</div></a><a href="/questions/208105/how-do-i-remove-a-property-from-a-javascript-object" class="question-hyperlink">How do I remove a property from a JavaScript object?</a></div><div class="spacer"><a href="/q/503093" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">7737</div></a><a href="/questions/503093/how-do-i-redirect-to-another-webpage" class="question-hyperlink">How do I redirect to another webpage?</a></div><div class="spacer"><a href="/q/1789945" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">7435</div></a><a href="/questions/1789945/how-to-check-whether-a-string-contains-a-substring-in-javascript" class="question-hyperlink">How to check whether a string contains a substring in JavaScript?</a></div><div class="spacer"><a href="/q/2669690" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">3555</div></a><a href="/questions/2669690/why-does-google-prepend-while1-to-their-json-responses" class="question-hyperlink">Why does Google prepend while(1); to their JSON responses?</a></div><div class="spacer"><a href="/q/5767325" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">6365</div></a><a href="/questions/5767325/how-do-i-remove-a-particular-element-from-an-array-in-javascript" class="question-hyperlink">How do I remove a particular element from an array in JavaScript?</a></div><div class="spacer"><a href="/q/6186770" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">645</div></a><a href="/questions/6186770/ajax-request-returns-200-ok-but-an-error-event-is-fired-instead-of-success" class="question-hyperlink">Ajax request returns 200 OK, but an error event is fired instead of success</a></div>
                    </div>
                </div>

<div id="hot-network-questions" class="module tex2jax_ignore">
    <h4>
        <a href="https://stackexchange.com/questions?tab=hot"
           class="js-gps-track s-link s-link__inherit" 
           data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li >
                <div class="favicon favicon-superuser" title="Super User"></div><a href="https://superuser.com/questions/1363677/in-a-symlink-pointing-to-127-0-1-1xxxxx-what-is-the-plus-character-for" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:3 }); posts_hot_network.click({ item_type:2, location:11 })">
                    In a symlink pointing to &#39;127.0.1.1:+xxxxx&#39;, what is the plus character for?
                </a>

            </li>
            <li >
                <div class="favicon favicon-mathematica" title="Mathematica Stack Exchange"></div><a href="https://mathematica.stackexchange.com/questions/183060/create-lists-of-equivalences-from-pairs" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:387 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Create lists of equivalences from pairs
                </a>

            </li>
            <li >
                <div class="favicon favicon-skeptics" title="Skeptics Stack Exchange"></div><a href="https://skeptics.stackexchange.com/questions/42384/does-america-not-lead-the-world-in-mass-shootings" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:212 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Does America not lead the world in mass shootings?
                </a>

            </li>
            <li >
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="https://electronics.stackexchange.com/questions/399320/unexpected-results-from-voltage-mulitplier" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Unexpected results from voltage mulitplier
                </a>

            </li>
            <li >
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="https://travel.stackexchange.com/questions/123335/i-provided-an-incorrect-passport-number-in-my-new-zealand-visa-application-and" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    I provided an incorrect passport number in my New Zealand visa application, and the visa was issued against that wrong number. How do I fix it?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="https://scifi.stackexchange.com/questions/195991/what-happens-after-nanobots-invade-philadelphia" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What happens after nanobots invade Philadelphia?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="https://politics.stackexchange.com/questions/34181/do-compulsory-voting-systems-allow-blank-votes-or-none-of-the-above-options" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Do compulsory voting systems allow blank votes or &quot;none of the above&quot; options?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="https://academia.stackexchange.com/questions/117799/just-starting-in-grad-school-i-havent-heard-from-my-advisor-in-three-weeks" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Just starting in grad school, I haven&#39;t heard from my advisor in three weeks â€¦
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="https://math.stackexchange.com/questions/2941682/ratio-number-of-sheep-and-chickens" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Ratio. Number of sheep and chickens
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-askubuntu" title="Ask Ubuntu"></div><a href="https://askubuntu.com/questions/1080853/vim-is-still-present-and-executable-even-after-running-apt-remove-and-purge-on-i" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:89 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Vim is still present and executable even after running apt remove and purge on its package
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-interpersonal" title="Interpersonal Skills Stack Exchange"></div><a href="https://interpersonal.stackexchange.com/questions/19062/what-is-the-etiquette-for-smalltalk-in-a-workplace-when-the-context-and-person-i" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:680 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the etiquette for smalltalk in a workplace when the context and person is always the same?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-retrocomputing" title="Retrocomputing Stack Exchange"></div><a href="https://retrocomputing.stackexchange.com/questions/7838/why-did-line-printers-have-132-columns" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:648 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why did line printers have 132 columns?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-mathoverflow" title="MathOverflow"></div><a href="https://mathoverflow.net/questions/312026/moduli-space-of-linear-partial-differential-equations" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:504 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Moduli space of linear partial differential equations
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="https://politics.stackexchange.com/questions/34013/what-do-democrats-have-to-gain-politically-by-preventing-brett-kavanaughs-app" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What do Democrats have to gain, politically, by preventing Brett Kavanaugh&#39;s appointment to the Supreme Court?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="https://worldbuilding.stackexchange.com/questions/126313/what-purpose-would-a-unicorns-horn-serve-in-the-wild" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What Purpose Would a Unicorn&#39;s Horn Serve in the Wild?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="https://academia.stackexchange.com/questions/117918/what-can-i-do-if-the-reviewers-comments-on-my-manuscript-are-not-correct" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What can I do if the reviewers&#39; comments on my manuscript are not correct?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="https://workplace.stackexchange.com/questions/120077/i-mistakenly-took-someone-elses-lunch-how-should-i-proceed" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    I mistakenly took someone else&#39;s lunch; how should I proceed?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-codereview" title="Code Review Stack Exchange"></div><a href="https://codereview.stackexchange.com/questions/204934/caching-color-bitmaps-as-memorystreams" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:196 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Caching Color-Bitmaps as MemoryStreams
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="https://worldbuilding.stackexchange.com/questions/126632/jobs-in-an-ai-controlled-world" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Jobs in an AI controlled world
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="https://workplace.stackexchange.com/questions/119816/top-developer-doing-more-home-office-than-allowed" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Top developer doing more home office than allowed
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="https://puzzling.stackexchange.com/questions/73437/can-you-follow-directions" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can you follow Directions?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="https://politics.stackexchange.com/questions/34117/what-does-kanye-ye-west-actually-mean-by-abolish-the-13th-amendment" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What does Kanye (Ye) West actually mean by &quot;Abolish the 13th Amendment&quot;?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="https://money.stackexchange.com/questions/100659/can-you-gift-someone-money-for-purpose-of-investing-to-avoid-capital-gains-upon" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can you gift someone money for purpose of investing to avoid capital gains upon inheritance?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="https://scifi.stackexchange.com/questions/195978/who-is-the-heaviest-superhero-in-the-mcu" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Who is the heaviest superhero in the MCU?
                </a>

            </li>
    </ul>

        <a href="#" 
           class="show-more js-show-more js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:3, location:11 })">
            more hot questions
        </a>
</div>

<div id="feed-link">
    <a href="/feeds/question/14220321" title="feed of this question and its answers">
        <svg aria-hidden="true" class="svg-icon fc-orange-400 iconRss" width="18" height="18" viewBox="0 0 18 18"><path d="M1 3c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3zm14.5 12C15.5 8.1 9.9 2.5 3 2.5V5a10 10 0 0 1 10 10h2.5zm-5 0A7.5 7.5 0 0 0 3 7.5V10a5 5 0 0 1 5 5h2.5zm-5 0A2.5 2.5 0 0 0 3 12.5V15h2.5z"/></svg>
        question feed
    </a>
</div>
        </div>
    </div>
<script>StackExchange.ready(function(){$.get('/posts/14220321/ivc/de12');});</script>
<noscript><div><img src="/posts/14220321/ivc/de12" class="dno" alt="" width="0" height="0"></div></noscript><div style="display:none" id="prettify-lang">lang-js</div></div>

    <script>
        $('#wmd-input').one("keypress", function() {
            $.ajax({
                url: '/accounts/email-settings-form',
                cache: false,
                success: function(data) {
                    $('#submit-button').parent().prepend(data);
                }
            });
        });

    </script>

        </div>
    </div>

    <footer id="footer" class="site-footer js-footer" role="contentinfo">
        <div class="site-footer--container">
                <div class="site-footer--logo">

                    
                    <a href="https://stackoverflow.com"><svg aria-hidden="true" class="svg-icon native iconLogoGlyphMd" width="32" height="37" viewBox="0 0 32 37"><g><path fill="#BCBBBB" d="M26 33v-9h4v13H0V24h4v9z"/><path d="M23.1 25.99l.68-2.95-16.1-3.35L7 23l16.1 2.99zM9.1 15.2l15 7 1.4-3-15-7-1.4 3zm4.2-7.4L26 18.4l2.1-2.5L15.4 5.3l-2.1 2.5zM21.5 0l-2.7 2 9.9 13.3 2.7-2L21.5 0zM7 30h16v-3H7v3z" fill="#F48024"/></g></svg></a>
                </div>
            
            <nav class="site-footer--nav">
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title"><a href="https://stackoverflow.com" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 15})">Stack Overflow</a></h5>
                        <ul class="-list js-primary-footer-links">
                            <li class="-item"><a href="/questions" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 16})">Questions</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 17})">Jobs</a></li>
                                <li class="-item"><a href="https://stackoverflow.com/jobs/directory/developer-jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 11})">Developer Jobs Directory</a></li>
                                     <li class="-item"><a href="https://stackoverflow.com/jobs/salary" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 28})">Salary Calculator</a></li>
                                                            <li class="-item"><a href="/help" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 3 })">Help</a></li>
                                <li class="-item"><a onclick='StackExchange.switchMobile("on")' class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 12 })">Mobile</a></li>
                        </ul>
                    </div>
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title"><a href="https://www.stackoverflowbusiness.com" class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 19 })">Products</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="https://stackoverflow.com/teams" class="js-gps-track -link" 
                                                 data-ga="[&quot;teams traffic&quot;,&quot;footer - site nav&quot;,&quot;stackoverflow.com/teams&quot;,null,{&quot;dimension4&quot;:&quot;teams&quot;}]"
                                                 data-gps-track="footer.click({ location: 2, link: 29 })">Teams</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/talent" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 20 })">Talent</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/advertise" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 21 })">Engagement</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/enterprise" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 22 })">Enterprise</a></li>
                        </ul>
                    </div>
                <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                    <h5 class="-title"><a class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">Company</a></h5>
                    <ul class="-list">
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">About</a></li>
                                                <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 27 })" href="https://stackoverflow.com/company/press">Press</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 9 })" href="https://stackoverflow.com/company/work-here">Work Here</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 7 })" href="https://stackoverflow.com/legal">Legal</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 8 })" href="https://stackoverflow.com/legal/privacy-policy">Privacy Policy</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 13 })" href="https://stackoverflow.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
                <div class="site-footer--col site-footer--categories-nav site-footer--col__visible">
                    <a href="#" class="site-footer--back js-footer-back"><svg aria-hidden="true" class="svg-icon iconArrowLeftAlt" width="18" height="18" viewBox="0 0 18 18"><path d="M10.58 16L12 14.59 6.4 9 12 3.41 10.57 2l-7 7z"/></svg></a>
                    <div>
                        <h5 class="-title"><a href="https://stackexchange.com">Stack Exchange<br> Network</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Technology">Technology</a></li>
                            <li class="-item"><a href="#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Life / Arts">Life / Arts</a></li>
                            <li class="-item"><a href="#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Culture / Recreation">Culture / Recreation</a></li>
                            <li class="-item"><a href="#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Science">Science</a></li>
                            <li class="-item"><a href="#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Other">Other</a></li>

                        </ul>
                    </div>
                </div>
                <div class="site-footer--categories">
                    <div class="site-footer--col site-footer--category js-footer-col" data-name="Technology">
        <ul class="-list">
                <li class="-item"><a href="https://stackoverflow.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and enthusiast programmers">Stack Overflow</a></li>
                <li class="-item"><a href="https://serverfault.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="system and network administrators">Server Fault</a></li>
                <li class="-item"><a href="https://superuser.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="computer enthusiasts and power users">Super User</a></li>
                <li class="-item"><a href="https://webapps.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of web applications">Web Applications</a></li>
                <li class="-item"><a href="https://askubuntu.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                <li class="-item"><a href="https://webmasters.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="pro webmasters">Webmasters</a></li>
                <li class="-item"><a href="https://gamedev.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and independent game developers">Game Development</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://tex.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                <li class="-item"><a href="https://softwareengineering.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professionals, academics, and students working within the systems development life cycle">Software Engineering</a></li>
                <li class="-item"><a href="https://unix.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                <li class="-item"><a href="https://apple.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                <li class="-item"><a href="https://wordpress.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="WordPress developers and administrators">WordPress Development</a></li>
                <li class="-item"><a href="https://gis.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                <li class="-item"><a href="https://electronics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://android.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                <li class="-item"><a href="https://security.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="information security professionals">Information Security</a></li>
                <li class="-item"><a href="https://dba.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                <li class="-item"><a href="https://drupal.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Drupal developers and administrators">Drupal Answers</a></li>
                <li class="-item"><a href="https://sharepoint.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="SharePoint enthusiasts">SharePoint</a></li>
                <li class="-item"><a href="https://ux.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="user experience researchers and experts">User Experience</a></li>
                <li class="-item"><a href="https://mathematica.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Wolfram Mathematica">Mathematica</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://salesforce.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                <li class="-item"><a href="https://expressionengine.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="administrators, end users, developers and designers for ExpressionEngine&#174; CMS">ExpressionEngine&#174; Answers</a></li>
                <li class="-item"><a href="https://pt.stackoverflow.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores profissionais e entusiastas">Stack Overflow em Portugu&#234;s</a></li>
                <li class="-item"><a href="https://blender.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who use Blender to create 3D graphics, animations, or games">Blender</a></li>
                <li class="-item"><a href="https://networkengineering.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="network engineers">Network Engineering</a></li>
                <li class="-item"><a href="https://crypto.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                <li class="-item"><a href="https://codereview.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="peer programmer code reviews">Code Review</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://magento.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of the Magento e-Commerce platform">Magento</a></li>
                <li class="-item"><a href="https://softwarerecs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people seeking specific software recommendations">Software Recommendations</a></li>
                <li class="-item"><a href="https://dsp.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                <li class="-item"><a href="https://emacs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those using, extending or developing Emacs">Emacs</a></li>
                <li class="-item"><a href="https://raspberrypi.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                <li class="-item"><a href="https://ru.stackoverflow.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð¾Ð²">Stack Overflow Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼</a></li>
                <li class="-item"><a href="https://codegolf.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://es.stackoverflow.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores y profesionales de la inform&#225;tica">Stack Overflow en espa&#241;ol</a></li>
                <li class="-item"><a href="https://ethereum.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Ethereum, the decentralized application platform and smart contract enabled blockchain">Ethereum</a></li>
                <li class="-item"><a href="https://datascience.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Data science professionals, Machine Learning specialists, and those interested in learning more about the field">Data Science</a></li>
                <li class="-item"><a href="https://arduino.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="developers of open-source hardware and software that is compatible with Arduino">Arduino</a></li>
                <li class="-item"><a href="https://bitcoin.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Bitcoin crypto-currency enthusiasts">Bitcoin</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#technology" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (30)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts">
        <ul class="-list">
                <li class="-item"><a href="https://photo.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional, enthusiast and amateur photographers">Photography</a></li>
                <li class="-item"><a href="https://scifi.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                <li class="-item"><a href="https://graphicdesign.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                <li class="-item"><a href="https://movies.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                <li class="-item"><a href="https://music.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                <li class="-item"><a href="https://worldbuilding.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="writers/artists using science, geography and culture to construct imaginary worlds and settings">Worldbuilding</a></li>
                <li class="-item"><a href="https://cooking.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts"><ul class="-list">
                <li class="-item"><a href="https://diy.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="contractors and serious DIYers">Home Improvement</a></li>
                <li class="-item"><a href="https://money.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                <li class="-item"><a href="https://academia.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="academics and those enrolled in higher education">Academia</a></li>
                <li class="-item"><a href="https://law.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="legal professionals, students, and others with experience or interest in law">Law</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#lifearts" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (15)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation">
        <ul class="-list">
                <li class="-item"><a href="https://english.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                <li class="-item"><a href="https://skeptics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientific skepticism">Skeptics</a></li>
                <li class="-item"><a href="https://judaism.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                <li class="-item"><a href="https://travel.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="road warriors and seasoned travelers">Travel</a></li>
                <li class="-item"><a href="https://christianity.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                <li class="-item"><a href="https://ell.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="speakers of other languages learning English">English Language Learners</a></li>
                <li class="-item"><a href="https://japanese.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://gaming.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                <li class="-item"><a href="https://bicycles.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                <li class="-item"><a href="https://rpg.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                <li class="-item"><a href="https://anime.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="anime and manga fans">Anime &amp; Manga</a></li>
                <li class="-item"><a href="https://puzzling.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who create, solve, and study puzzles">Puzzling</a></li>
                <li class="-item"><a href="https://mechanics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="mechanics and DIY enthusiast owners of cars, trucks, and motorcycles">Motor Vehicle Maintenance &amp; Repair</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#culturerecreation" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (33)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Science">
        <ul class="-list">
                <li class="-item"><a href="https://mathoverflow.net" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional mathematicians">MathOverflow</a></li>
                <li class="-item"><a href="https://math.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                <li class="-item"><a href="https://stats.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                <li class="-item"><a href="https://cstheory.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                <li class="-item"><a href="https://physics.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="active researchers, academics and students of physics">Physics</a></li>
                <li class="-item"><a href="https://chemistry.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientists, academics, teachers, and students in the field of chemistry">Chemistry</a></li>
                <li class="-item"><a href="https://biology.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="biology researchers, academics, and students">Biology</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Science"><ul class="-list">
                <li class="-item"><a href="https://cs.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                <li class="-item"><a href="https://philosophy.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those interested in the study of the fundamental nature of knowledge, reality, and existence">Philosophy</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#science" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (10)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Other">
        <ul class="-list">
                <li class="-item"><a href="https://meta.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                <li class="-item"><a href="https://stackapps.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                <li class="-item"><a href="https://api.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programmatic interaction with Stack Exchange sites">API</a></li>
                <li class="-item"><a href="https://data.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="querying Stack Exchange data using SQL">Data</a></li>
                <li class="-item"><a href="https://area51.stackexchange.com" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                    </ul>
    </div>
                </div>
            </nav>
            <div class="site-footer--copyright fs-fine">
                <ul class="-list">
                    <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link:4 })" href="https://stackoverflow.blog?blb=1">Blog</a></li>
                    <li class="-item"><a href="https://www.facebook.com/officialstackoverflow/" class="-link">Facebook</a></li>
                    <li class="-item"><a href="https://twitter.com/stackoverflow" class="-link">Twitter</a></li>
                    <li class="-item"><a href="https://linkedin.com/company/stack-overflow" class="-link">LinkedIn</a></li>
                </ul>

                <p class="mt-auto mb24">
site design / logo &#169; 2018 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a>
                            with <a href="https://stackoverflow.blog/2009/06/25/attribution-required/" rel="license">attribution required</a>.
                    <span id="svnrev">rev&nbsp;2018.10.5.31841</span>
                </p>
            </div>
        </div>

            </footer>
            <script>StackExchange.ready(function () { StackExchange.responsiveness.addSwitcher(); })</script>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled
            <img src="https://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno">
        </div>
    </noscript>

<script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            StackExchange.ready(function () {

                StackExchange.ga.init({
                    sendTitles: true,
                    tracker: window.ga,
                    trackingCodes: [
                        'UA-108242619-1'
                    ]
                });

                    StackExchange.ga.setDimension('dimension1', '3717694');


                    StackExchange.ga.setDimension('dimension2', '|javascript|ajax|asynchronous|ecmascript-6|ecmascript-2017|');

                    StackExchange.ga.setDimension('dimension3', 'Questions/Show');


                StackExchange.ga.trackPageView();
            });
            
/**/
            
            var _qevents = _qevents || [],
            _comscore = _comscore || [];
            (function() {
                var ssl = 'https:' == document.location.protocol,
                    s = document.getElementsByTagName('script')[0],
                    qc = document.createElement('script');
                 qc.async = true;
                    qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                    s.parentNode.insertBefore(qc, s);
                    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
/**/
                 var sc = document.createElement('script');
                    sc.async = true;
                    sc.src = (ssl ? 'https://sb' : 'http://b') + '.scorecardresearch.com/beacon.js';
                    s.parentNode.insertBefore(sc, s);
                    _comscore.push({ c1: "2", c2: "17440561" });
            })();
            

</script>
            
    </body>
    </html>
